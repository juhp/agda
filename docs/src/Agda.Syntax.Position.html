<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds            #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span> </span><span class="hs-comment">-- Due to KILLRANGE vararg typeclass</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="annot"><span class="hs-comment">{-| Position information for syntax. Crucial for giving good error messages.
-}</span></span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Agda.Syntax.Position</span><span>
</span><span id="line-8"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Positions</span></span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Position.html#Position"><span class="hs-identifier">Position</span></a></span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#PositionWithoutFile"><span class="hs-identifier">PositionWithoutFile</span></a></span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier">Position'</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#SrcFile"><span class="hs-identifier">SrcFile</span></a></span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#RangeFile"><span class="hs-identifier">RangeFile</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#mkRangeFile"><span class="hs-identifier">mkRangeFile</span></a></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#positionInvariant"><span class="hs-identifier">positionInvariant</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#startPos"><span class="hs-identifier">startPos</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#movePos"><span class="hs-identifier">movePos</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#movePosByString"><span class="hs-identifier">movePosByString</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#backupPos"><span class="hs-identifier">backupPos</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#startPos%27"><span class="hs-identifier">startPos'</span></a></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Intervals</span></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier">Interval</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#IntervalWithoutFile"><span class="hs-identifier">IntervalWithoutFile</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier">Interval'</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#intervalInvariant"><span class="hs-identifier">intervalInvariant</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#posToInterval"><span class="hs-identifier">posToInterval</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#getIntervalFile"><span class="hs-identifier">getIntervalFile</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#iLength"><span class="hs-identifier">iLength</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#fuseIntervals"><span class="hs-identifier">fuseIntervals</span></a></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#setIntervalFile"><span class="hs-identifier">setIntervalFile</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Ranges</span></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier">Range</span></a></span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier">Range'</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#rangeInvariant"><span class="hs-identifier">rangeInvariant</span></a></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#consecutiveAndSeparated"><span class="hs-identifier">consecutiveAndSeparated</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#intervalsToRange"><span class="hs-identifier">intervalsToRange</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#intervalToRange"><span class="hs-identifier">intervalToRange</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#rangeIntervals"><span class="hs-identifier">rangeIntervals</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#rangeFile"><span class="hs-identifier">rangeFile</span></a></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#rangeModule%27"><span class="hs-identifier">rangeModule'</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#rangeModule"><span class="hs-identifier">rangeModule</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#rightMargin"><span class="hs-identifier">rightMargin</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#noRange"><span class="hs-identifier">noRange</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#posToRange"><span class="hs-identifier">posToRange</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#posToRange%27"><span class="hs-identifier">posToRange'</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#rStart"><span class="hs-identifier">rStart</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#rStart%27"><span class="hs-identifier">rStart'</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#rEnd"><span class="hs-identifier">rEnd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#rEnd%27"><span class="hs-identifier">rEnd'</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#rangeToInterval"><span class="hs-identifier">rangeToInterval</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#rangeToIntervalWithFile"><span class="hs-identifier">rangeToIntervalWithFile</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#continuous"><span class="hs-identifier">continuous</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#continuousPerLine"><span class="hs-identifier">continuousPerLine</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#PrintRange"><span class="hs-identifier">PrintRange</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier">HasRange</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#SetRange"><span class="hs-identifier">SetRange</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier">KillRange</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRangeT"><span class="hs-identifier">KillRangeT</span></a></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#killRangeMap"><span class="hs-identifier">killRangeMap</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KILLRANGE"><span class="hs-identifier">KILLRANGE</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#withRangeOf"><span class="hs-identifier">withRangeOf</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#fuseRange"><span class="hs-identifier">fuseRange</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#fuseRanges"><span class="hs-identifier">fuseRanges</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#beginningOf"><span class="hs-identifier">beginningOf</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#beginningOfFile"><span class="hs-identifier">beginningOfFile</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#interleaveRanges"><span class="hs-identifier">interleaveRanges</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">null</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Writer</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">runWriter</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">tell</span></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Fold</span></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Function</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">on</span></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Int</span></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">sort</span></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Set</span></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Sequence</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Seq</span></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Sequence</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Seq</span></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Semigroup</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Void</span></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Agda.Syntax.TopLevelModuleName.html"><span class="hs-identifier">Agda.Syntax.TopLevelModuleName</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.TopLevelModuleName.html#TopLevelModuleName"><span class="hs-identifier">TopLevelModuleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.FileName.html"><span class="hs-identifier">Agda.Utils.FileName</span></a></span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.List.html"><span class="hs-identifier">Agda.Utils.List</span></a></span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.List1.html"><span class="hs-identifier">Agda.Utils.List1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Utils.List1.html#List1"><span class="hs-identifier">List1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.List2.html"><span class="hs-identifier">Agda.Utils.List2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Utils.List2.html#List2"><span class="hs-identifier">List2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Agda.Utils.Maybe.Strict.html"><span class="hs-identifier">Agda.Utils.Maybe.Strict</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Strict</span></span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Null.html"><span class="hs-identifier">Agda.Utils.Null</span></a></span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Permutation.html"><span class="hs-identifier">Agda.Utils.Permutation</span></a></span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.Pretty.html"><span class="hs-identifier">Agda.Syntax.Common.Pretty</span></a></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.TypeLevel.html"><span class="hs-identifier">Agda.Utils.TypeLevel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Utils.TypeLevel.html#IsBase"><span class="hs-identifier">IsBase</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.TypeLevel.html#All"><span class="hs-identifier">All</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.TypeLevel.html#Domains"><span class="hs-identifier">Domains</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Impossible.html"><span class="hs-identifier">Agda.Utils.Impossible</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-comment">{--------------------------------------------------------------------------
    Types and classes
 --------------------------------------------------------------------------}</span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-comment">-- | Represents a point in the input.</span><span>
</span><span id="line-110"></span><span class="hs-comment">--</span><span>
</span><span id="line-111"></span><span class="hs-comment">-- If two positions have the same 'srcFile' and 'posPos' components,</span><span>
</span><span id="line-112"></span><span class="hs-comment">-- then the final two components should be the same as well, but since</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- this can be hard to enforce the program should not rely too much on</span><span>
</span><span id="line-114"></span><span class="hs-comment">-- the last two components; they are mainly there to improve error</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- messages for the user.</span><span>
</span><span id="line-116"></span><span class="hs-comment">--</span><span>
</span><span id="line-117"></span><span class="hs-comment">-- Note the invariant which positions have to satisfy: 'positionInvariant'.</span><span>
</span><span id="line-118"></span><span class="hs-keyword">data</span><span> </span><span id="Position%27"><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-var">Position'</span></a></span></span><span> </span><span id="local-6989586621680942128"><span class="annot"><a href="#local-6989586621680942128"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Pn"><span class="annot"><a href="Agda.Syntax.Position.html#Pn"><span class="hs-identifier hs-var">Pn</span></a></span></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="srcFile"><span class="annot"><span class="annottext">forall a. Position' a -&gt; a
</span><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var hs-var">srcFile</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621680942128"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-120"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ File.</span></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="posPos"><span class="annot"><span class="annottext">forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posPos"><span class="hs-identifier hs-var hs-var">posPos</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int32</span></span><span>
</span><span id="line-122"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Position, counting from 1.</span></span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="posLine"><span class="annot"><span class="annottext">forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posLine"><span class="hs-identifier hs-var hs-var">posLine</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int32</span></span><span>
</span><span id="line-124"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Line number, counting from 1.</span></span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="posCol"><span class="annot"><span class="annottext">forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posCol"><span class="hs-identifier hs-var hs-var">posCol</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int32</span></span><span>
</span><span id="line-126"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Column number, counting from 1.</span></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680942689"><span id="local-6989586621680942698"><span id="local-6989586621680942702"><span class="annot"><span class="annottext">Int -&gt; Position' a -&gt; ShowS
[Position' a] -&gt; ShowS
Position' a -&gt; String
(Int -&gt; Position' a -&gt; ShowS)
-&gt; (Position' a -&gt; String)
-&gt; ([Position' a] -&gt; ShowS)
-&gt; Show (Position' a)
forall a. Show a =&gt; Int -&gt; Position' a -&gt; ShowS
forall a. Show a =&gt; [Position' a] -&gt; ShowS
forall a. Show a =&gt; Position' a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; Position' a -&gt; ShowS
showsPrec :: Int -&gt; Position' a -&gt; ShowS
$cshow :: forall a. Show a =&gt; Position' a -&gt; String
show :: Position' a -&gt; String
$cshowList :: forall a. Show a =&gt; [Position' a] -&gt; ShowS
showList :: [Position' a] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680942706"><span id="local-6989586621680942708"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; Position' a -&gt; Position' b)
-&gt; (forall a b. a -&gt; Position' b -&gt; Position' a)
-&gt; Functor Position'
forall a b. a -&gt; Position' b -&gt; Position' a
forall a b. (a -&gt; b) -&gt; Position' a -&gt; Position' b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; Position' a -&gt; Position' b
fmap :: forall a b. (a -&gt; b) -&gt; Position' a -&gt; Position' b
$c&lt;$ :: forall a b. a -&gt; Position' b -&gt; Position' a
&lt;$ :: forall a b. a -&gt; Position' b -&gt; Position' a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680942712"><span id="local-6989586621680942718"><span id="local-6989586621680942721"><span id="local-6989586621680942726"><span id="local-6989586621680942728"><span id="local-6989586621680942731"><span id="local-6989586621680942734"><span id="local-6989586621680942737"><span id="local-6989586621680942740"><span id="local-6989586621680942743"><span id="local-6989586621680942746"><span id="local-6989586621680942748"><span id="local-6989586621680942751"><span id="local-6989586621680942756"><span id="local-6989586621680942761"><span id="local-6989586621680942766"><span id="local-6989586621680942771"><span class="annot"><span class="annottext">(forall m. Monoid m =&gt; Position' m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Position' a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Position' a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Position' a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Position' a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Position' a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Position' a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Position' a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Position' a -&gt; a)
-&gt; (forall a. Position' a -&gt; [a])
-&gt; (forall a. Position' a -&gt; Bool)
-&gt; (forall a. Position' a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; Position' a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; Position' a -&gt; a)
-&gt; (forall a. Ord a =&gt; Position' a -&gt; a)
-&gt; (forall a. Num a =&gt; Position' a -&gt; a)
-&gt; (forall a. Num a =&gt; Position' a -&gt; a)
-&gt; Foldable Position'
forall a. Eq a =&gt; a -&gt; Position' a -&gt; Bool
forall a. Num a =&gt; Position' a -&gt; a
forall a. Ord a =&gt; Position' a -&gt; a
forall m. Monoid m =&gt; Position' m -&gt; m
forall a. Position' a -&gt; Bool
forall a. Position' a -&gt; Int
forall a. Position' a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; Position' a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Position' a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Position' a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Position' a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
$cfold :: forall m. Monoid m =&gt; Position' m -&gt; m
fold :: forall m. Monoid m =&gt; Position' m -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Position' a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Position' a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Position' a -&gt; m
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Position' a -&gt; m
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Position' a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Position' a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Position' a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Position' a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Position' a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Position' a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Position' a -&gt; b
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Position' a -&gt; b
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Position' a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Position' a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Position' a -&gt; a
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Position' a -&gt; a
$ctoList :: forall a. Position' a -&gt; [a]
toList :: forall a. Position' a -&gt; [a]
$cnull :: forall a. Position' a -&gt; Bool
null :: forall a. Position' a -&gt; Bool
$clength :: forall a. Position' a -&gt; Int
length :: forall a. Position' a -&gt; Int
$celem :: forall a. Eq a =&gt; a -&gt; Position' a -&gt; Bool
elem :: forall a. Eq a =&gt; a -&gt; Position' a -&gt; Bool
$cmaximum :: forall a. Ord a =&gt; Position' a -&gt; a
maximum :: forall a. Ord a =&gt; Position' a -&gt; a
$cminimum :: forall a. Ord a =&gt; Position' a -&gt; a
minimum :: forall a. Ord a =&gt; Position' a -&gt; a
$csum :: forall a. Num a =&gt; Position' a -&gt; a
sum :: forall a. Num a =&gt; Position' a -&gt; a
$cproduct :: forall a. Num a =&gt; Position' a -&gt; a
product :: forall a. Num a =&gt; Position' a -&gt; a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680942781"><span id="local-6989586621680942786"><span id="local-6989586621680942792"><span id="local-6989586621680942797"><span class="annot"><span class="annottext">Functor Position'
Foldable Position'
(Functor Position', Foldable Position') =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; Position' a -&gt; f (Position' b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    Position' (f a) -&gt; f (Position' a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; Position' a -&gt; m (Position' b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    Position' (m a) -&gt; m (Position' a))
-&gt; Traversable Position'
forall (t :: * -&gt; *).
(Functor t, Foldable t) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a.
Monad m =&gt;
Position' (m a) -&gt; m (Position' a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
Position' (f a) -&gt; f (Position' a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Position' a -&gt; m (Position' b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Position' a -&gt; f (Position' b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Position' a -&gt; f (Position' b)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Position' a -&gt; f (Position' b)
$csequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Position' (f a) -&gt; f (Position' a)
sequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Position' (f a) -&gt; f (Position' a)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Position' a -&gt; m (Position' b)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Position' a -&gt; m (Position' b)
$csequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
Position' (m a) -&gt; m (Position' a)
sequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
Position' (m a) -&gt; m (Position' a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680942804"><span id="local-6989586621680942806"><span class="annot"><span class="annottext">(forall x. Position' a -&gt; Rep (Position' a) x)
-&gt; (forall x. Rep (Position' a) x -&gt; Position' a)
-&gt; Generic (Position' a)
forall x. Rep (Position' a) x -&gt; Position' a
forall x. Position' a -&gt; Rep (Position' a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall a x. Rep (Position' a) x -&gt; Position' a
forall a x. Position' a -&gt; Rep (Position' a) x
$cfrom :: forall a x. Position' a -&gt; Rep (Position' a) x
from :: forall x. Position' a -&gt; Rep (Position' a) x
$cto :: forall a x. Rep (Position' a) x -&gt; Position' a
to :: forall x. Rep (Position' a) x -&gt; Position' a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span id="local-6989586621680942809"><span class="annot"><a href="Agda.Syntax.Position.html#positionInvariant"><span class="hs-identifier hs-type">positionInvariant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942809"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-131"></span><span id="positionInvariant"><span class="annot"><span class="annottext">positionInvariant :: forall a. Position' a -&gt; Bool
</span><a href="Agda.Syntax.Position.html#positionInvariant"><span class="hs-identifier hs-var hs-var">positionInvariant</span></a></span></span><span> </span><span id="local-6989586621680942818"><span class="annot"><span class="annottext">Position' a
</span><a href="#local-6989586621680942818"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-132"></span><span>  </span><span class="annot"><span class="annottext">Position' a -&gt; Int32
forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posPos"><span class="hs-identifier hs-var">posPos</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a
</span><a href="#local-6989586621680942818"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Int32
forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posLine"><span class="hs-identifier hs-var">posLine</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a
</span><a href="#local-6989586621680942818"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Int32
forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posCol"><span class="hs-identifier hs-var">posCol</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a
</span><a href="#local-6989586621680942818"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">0</span></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span id="local-6989586621680942189"><span class="annot"><a href="Agda.Syntax.Position.html#importantPart"><span class="hs-identifier hs-type">importantPart</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942189"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680942189"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int32</span></span><span class="hs-special">)</span></span><span>
</span><span id="line-135"></span><span id="importantPart"><span class="annot"><span class="annottext">importantPart :: forall a. Position' a -&gt; (a, Int32)
</span><a href="Agda.Syntax.Position.html#importantPart"><span class="hs-identifier hs-var hs-var">importantPart</span></a></span></span><span> </span><span id="local-6989586621680942822"><span class="annot"><span class="annottext">Position' a
</span><a href="#local-6989586621680942822"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position' a -&gt; a
forall a. Position' a -&gt; a
</span><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a
</span><a href="#local-6989586621680942822"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Int32
forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posPos"><span class="hs-identifier hs-var">posPos</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a
</span><a href="#local-6989586621680942822"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942193"><span id="local-6989586621680942826"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621680942193"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942193"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-138"></span><span>  </span><span id="local-6989586621680942834"><span class="annot"><span class="annottext">== :: Position' a -&gt; Position' a -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(==)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, Int32) -&gt; (a, Int32) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">((a, Int32) -&gt; (a, Int32) -&gt; Bool)
-&gt; (Position' a -&gt; (a, Int32))
-&gt; Position' a
-&gt; Position' a
-&gt; Bool
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-operator hs-var">`on`</span></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; (a, Int32)
forall a. Position' a -&gt; (a, Int32)
</span><a href="Agda.Syntax.Position.html#importantPart"><span class="hs-identifier hs-var">importantPart</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942200"><span id="local-6989586621680942841"><span id="local-6989586621680942845"><span id="local-6989586621680942848"><span id="local-6989586621680942851"><span id="local-6989586621680942854"><span id="local-6989586621680942857"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621680942200"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942200"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-141"></span><span>  </span><span id="local-6989586621680942864"><span class="annot"><span class="annottext">compare :: Position' a -&gt; Position' a -&gt; Ordering
</span><a href="#local-6989586621680942864"><span class="hs-identifier hs-var hs-var hs-var hs-var">compare</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, Int32) -&gt; (a, Int32) -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">((a, Int32) -&gt; (a, Int32) -&gt; Ordering)
-&gt; (Position' a -&gt; (a, Int32))
-&gt; Position' a
-&gt; Position' a
-&gt; Ordering
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-operator hs-var">`on`</span></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; (a, Int32)
forall a. Position' a -&gt; (a, Int32)
</span><a href="Agda.Syntax.Position.html#importantPart"><span class="hs-identifier hs-var">importantPart</span></a></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-keyword">type</span><span> </span><span id="SrcFile"><span class="annot"><a href="Agda.Syntax.Position.html#SrcFile"><span class="hs-identifier hs-var">SrcFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Strict.Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#RangeFile"><span class="hs-identifier hs-type">RangeFile</span></a></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="hs-comment">-- | File information used in the 'Position', 'Interval' and 'Range'</span><span>
</span><span id="line-146"></span><span class="hs-comment">-- types.</span><span>
</span><span id="line-147"></span><span class="hs-keyword">data</span><span> </span><span id="RangeFile"><span class="annot"><a href="Agda.Syntax.Position.html#RangeFile"><span class="hs-identifier hs-var">RangeFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RangeFile"><span class="annot"><a href="Agda.Syntax.Position.html#RangeFile"><span class="hs-identifier hs-var">RangeFile</span></a></span></span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="rangeFilePath"><span class="annot"><span class="annottext">RangeFile -&gt; AbsolutePath
</span><a href="Agda.Syntax.Position.html#rangeFilePath"><span class="hs-identifier hs-var hs-var">rangeFilePath</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Agda.Utils.FileName.html#AbsolutePath"><span class="hs-identifier hs-type">AbsolutePath</span></a></span><span>
</span><span id="line-149"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ The file's path.</span></span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="rangeFileName"><span class="annot"><span class="annottext">RangeFile -&gt; Maybe TopLevelModuleName
</span><a href="Agda.Syntax.Position.html#rangeFileName"><span class="hs-identifier hs-var hs-var">rangeFileName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.TopLevelModuleName.html#TopLevelModuleName"><span class="hs-identifier hs-type">TopLevelModuleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>    </span><span class="hs-comment">-- ^ The file's top-level module name (if applicable).</span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-comment">-- This field is optional, but some things may break if the field</span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-comment">-- is not instantiated with an actual top-level module name. For</span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-comment">-- instance, the 'Eq' and 'Ord' instances only make use of this</span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-comment">-- field.</span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-comment">-- The field uses 'Maybe' rather than 'Strict.Maybe' because it</span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-comment">-- should be possible to instantiate it with something that is not</span><span>
</span><span id="line-160"></span><span>    </span><span class="hs-comment">-- yet defined (see 'Agda.Interaction.Imports.parseSource').</span><span>
</span><span id="line-161"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-comment">-- This 'TopLevelModuleName' should not contain a range.</span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680942872"><span id="local-6989586621680942880"><span id="local-6989586621680942884"><span class="annot"><span class="annottext">Int -&gt; RangeFile -&gt; ShowS
[RangeFile] -&gt; ShowS
RangeFile -&gt; String
(Int -&gt; RangeFile -&gt; ShowS)
-&gt; (RangeFile -&gt; String)
-&gt; ([RangeFile] -&gt; ShowS)
-&gt; Show RangeFile
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; RangeFile -&gt; ShowS
showsPrec :: Int -&gt; RangeFile -&gt; ShowS
$cshow :: RangeFile -&gt; String
show :: RangeFile -&gt; String
$cshowList :: [RangeFile] -&gt; ShowS
showList :: [RangeFile] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680942888"><span id="local-6989586621680942890"><span class="annot"><span class="annottext">(forall x. RangeFile -&gt; Rep RangeFile x)
-&gt; (forall x. Rep RangeFile x -&gt; RangeFile) -&gt; Generic RangeFile
forall x. Rep RangeFile x -&gt; RangeFile
forall x. RangeFile -&gt; Rep RangeFile x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. RangeFile -&gt; Rep RangeFile x
from :: forall x. RangeFile -&gt; Rep RangeFile x
$cto :: forall x. Rep RangeFile x -&gt; RangeFile
to :: forall x. Rep RangeFile x -&gt; RangeFile
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="annot"><span class="hs-comment">-- | A smart constructor for 'RangeFile'.</span></span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="annot"><a href="Agda.Syntax.Position.html#mkRangeFile"><span class="hs-identifier hs-type">mkRangeFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Utils.FileName.html#AbsolutePath"><span class="hs-identifier hs-type">AbsolutePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.TopLevelModuleName.html#TopLevelModuleName"><span class="hs-identifier hs-type">TopLevelModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#RangeFile"><span class="hs-identifier hs-type">RangeFile</span></a></span><span>
</span><span id="line-169"></span><span id="mkRangeFile"><span class="annot"><span class="annottext">mkRangeFile :: AbsolutePath -&gt; Maybe TopLevelModuleName -&gt; RangeFile
</span><a href="Agda.Syntax.Position.html#mkRangeFile"><span class="hs-identifier hs-var hs-var">mkRangeFile</span></a></span></span><span> </span><span id="local-6989586621680942892"><span class="annot"><span class="annottext">AbsolutePath
</span><a href="#local-6989586621680942892"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680942893"><span class="annot"><span class="annottext">Maybe TopLevelModuleName
</span><a href="#local-6989586621680942893"><span class="hs-identifier hs-var">top</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#RangeFile"><span class="hs-identifier hs-type">RangeFile</span></a></span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rangeFilePath :: AbsolutePath
</span><a href="Agda.Syntax.Position.html#rangeFilePath"><span class="hs-identifier hs-var">rangeFilePath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AbsolutePath
</span><a href="#local-6989586621680942892"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rangeFileName :: Maybe TopLevelModuleName
</span><a href="Agda.Syntax.Position.html#rangeFileName"><span class="hs-identifier hs-var">rangeFileName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KillRangeT (Maybe TopLevelModuleName)
forall a. KillRange a =&gt; KillRangeT a
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var">killRange</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe TopLevelModuleName
</span><a href="#local-6989586621680942893"><span class="hs-identifier hs-var">top</span></a></span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="annot"><span class="hs-comment">-- | Only the 'rangeFileName' component is compared.</span></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942897"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#RangeFile"><span class="hs-identifier hs-type">RangeFile</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-177"></span><span>  </span><span id="local-6989586621680942904"><span class="annot"><span class="annottext">== :: RangeFile -&gt; RangeFile -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(==)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TopLevelModuleName -&gt; Maybe TopLevelModuleName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">(Maybe TopLevelModuleName -&gt; Maybe TopLevelModuleName -&gt; Bool)
-&gt; (RangeFile -&gt; Maybe TopLevelModuleName)
-&gt; RangeFile
-&gt; RangeFile
-&gt; Bool
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-operator hs-var">`on`</span></span><span> </span><span class="annot"><span class="annottext">RangeFile -&gt; Maybe TopLevelModuleName
</span><a href="Agda.Syntax.Position.html#rangeFileName"><span class="hs-identifier hs-var">rangeFileName</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="annot"><span class="hs-comment">-- | Only the 'rangeFileName' component is compared.</span></span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942909"><span id="local-6989586621680942913"><span id="local-6989586621680942916"><span id="local-6989586621680942919"><span id="local-6989586621680942922"><span id="local-6989586621680942925"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#RangeFile"><span class="hs-identifier hs-type">RangeFile</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-182"></span><span>  </span><span id="local-6989586621680942931"><span class="annot"><span class="annottext">compare :: RangeFile -&gt; RangeFile -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">compare</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TopLevelModuleName -&gt; Maybe TopLevelModuleName -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">(Maybe TopLevelModuleName -&gt; Maybe TopLevelModuleName -&gt; Ordering)
-&gt; (RangeFile -&gt; Maybe TopLevelModuleName)
-&gt; RangeFile
-&gt; RangeFile
-&gt; Ordering
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-operator hs-var">`on`</span></span><span> </span><span class="annot"><span class="annottext">RangeFile -&gt; Maybe TopLevelModuleName
</span><a href="Agda.Syntax.Position.html#rangeFileName"><span class="hs-identifier hs-var">rangeFileName</span></a></span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#RangeFile"><span class="hs-identifier hs-type">RangeFile</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-185"></span><span>  </span><span id="local-6989586621680942939"><span class="annot"><span class="annottext">rnf :: RangeFile -&gt; ()
</span><a href="#local-6989586621680942939"><span class="hs-identifier hs-var hs-var hs-var hs-var">rnf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#RangeFile"><span class="hs-identifier hs-type">RangeFile</span></a></span><span> </span><span class="annot"><span class="annottext">AbsolutePath
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680942941"><span class="annot"><span class="annottext">Maybe TopLevelModuleName
</span><a href="#local-6989586621680942941"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TopLevelModuleName -&gt; ()
forall a. NFData a =&gt; a -&gt; ()
</span><span class="hs-identifier hs-var">rnf</span></span><span> </span><span class="annot"><span class="annottext">Maybe TopLevelModuleName
</span><a href="#local-6989586621680942941"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-keyword">type</span><span> </span><span id="Position"><span class="annot"><a href="Agda.Syntax.Position.html#Position"><span class="hs-identifier hs-var">Position</span></a></span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#SrcFile"><span class="hs-identifier hs-type">SrcFile</span></a></span><span>
</span><span id="line-188"></span><span class="hs-keyword">type</span><span> </span><span id="PositionWithoutFile"><span class="annot"><a href="Agda.Syntax.Position.html#PositionWithoutFile"><span class="hs-identifier hs-var">PositionWithoutFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-191"></span><span>  </span><span id="local-6989586621680942944"><span class="annot"><span class="annottext">rnf :: Position -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">rnf</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position -&gt; () -&gt; ()
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#PositionWithoutFile"><span class="hs-identifier hs-type">PositionWithoutFile</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-194"></span><span>  </span><span id="local-6989586621680942947"><span class="annot"><span class="annottext">rnf :: PositionWithoutFile -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">rnf</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PositionWithoutFile -&gt; () -&gt; ()
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="hs-comment">-- | An interval. The @iEnd@ position is not included in the interval.</span><span>
</span><span id="line-197"></span><span class="hs-comment">--</span><span>
</span><span id="line-198"></span><span class="hs-comment">-- Note the invariant which intervals have to satisfy: 'intervalInvariant'.</span><span>
</span><span id="line-199"></span><span class="hs-keyword">data</span><span> </span><span id="Interval%27"><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-var">Interval'</span></a></span></span><span> </span><span id="local-6989586621680942217"><span class="annot"><a href="#local-6989586621680942217"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Interval"><span class="annot"><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="iStart"><span class="annot"><span class="annottext">forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var hs-var">iStart</span></a></span></span><span class="hs-special">,</span><span> </span><span id="iEnd"><span class="annot"><span class="annottext">forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var hs-var">iEnd</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942217"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-200"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680942952"><span id="local-6989586621680942957"><span id="local-6989586621680942961"><span class="annot"><span class="annottext">Int -&gt; Interval' a -&gt; ShowS
[Interval' a] -&gt; ShowS
Interval' a -&gt; String
(Int -&gt; Interval' a -&gt; ShowS)
-&gt; (Interval' a -&gt; String)
-&gt; ([Interval' a] -&gt; ShowS)
-&gt; Show (Interval' a)
forall a. Show a =&gt; Int -&gt; Interval' a -&gt; ShowS
forall a. Show a =&gt; [Interval' a] -&gt; ShowS
forall a. Show a =&gt; Interval' a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; Interval' a -&gt; ShowS
showsPrec :: Int -&gt; Interval' a -&gt; ShowS
$cshow :: forall a. Show a =&gt; Interval' a -&gt; String
show :: Interval' a -&gt; String
$cshowList :: forall a. Show a =&gt; [Interval' a] -&gt; ShowS
showList :: [Interval' a] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680942965"><span id="local-6989586621680942969"><span class="annot"><span class="annottext">Interval' a -&gt; Interval' a -&gt; Bool
(Interval' a -&gt; Interval' a -&gt; Bool)
-&gt; (Interval' a -&gt; Interval' a -&gt; Bool) -&gt; Eq (Interval' a)
forall a. Eq a =&gt; Interval' a -&gt; Interval' a -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall a. Eq a =&gt; Interval' a -&gt; Interval' a -&gt; Bool
== :: Interval' a -&gt; Interval' a -&gt; Bool
$c/= :: forall a. Eq a =&gt; Interval' a -&gt; Interval' a -&gt; Bool
/= :: Interval' a -&gt; Interval' a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680942977"><span id="local-6989586621680942981"><span id="local-6989586621680942985"><span id="local-6989586621680942989"><span id="local-6989586621680942992"><span id="local-6989586621680942995"><span id="local-6989586621680942998"><span class="annot"><span class="annottext">Eq (Interval' a)
Eq (Interval' a) =&gt;
(Interval' a -&gt; Interval' a -&gt; Ordering)
-&gt; (Interval' a -&gt; Interval' a -&gt; Bool)
-&gt; (Interval' a -&gt; Interval' a -&gt; Bool)
-&gt; (Interval' a -&gt; Interval' a -&gt; Bool)
-&gt; (Interval' a -&gt; Interval' a -&gt; Bool)
-&gt; (Interval' a -&gt; Interval' a -&gt; Interval' a)
-&gt; (Interval' a -&gt; Interval' a -&gt; Interval' a)
-&gt; Ord (Interval' a)
Interval' a -&gt; Interval' a -&gt; Bool
Interval' a -&gt; Interval' a -&gt; Ordering
Interval' a -&gt; Interval' a -&gt; Interval' a
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall a. Ord a =&gt; Eq (Interval' a)
forall a. Ord a =&gt; Interval' a -&gt; Interval' a -&gt; Bool
forall a. Ord a =&gt; Interval' a -&gt; Interval' a -&gt; Ordering
forall a. Ord a =&gt; Interval' a -&gt; Interval' a -&gt; Interval' a
$ccompare :: forall a. Ord a =&gt; Interval' a -&gt; Interval' a -&gt; Ordering
compare :: Interval' a -&gt; Interval' a -&gt; Ordering
$c&lt; :: forall a. Ord a =&gt; Interval' a -&gt; Interval' a -&gt; Bool
&lt; :: Interval' a -&gt; Interval' a -&gt; Bool
$c&lt;= :: forall a. Ord a =&gt; Interval' a -&gt; Interval' a -&gt; Bool
&lt;= :: Interval' a -&gt; Interval' a -&gt; Bool
$c&gt; :: forall a. Ord a =&gt; Interval' a -&gt; Interval' a -&gt; Bool
&gt; :: Interval' a -&gt; Interval' a -&gt; Bool
$c&gt;= :: forall a. Ord a =&gt; Interval' a -&gt; Interval' a -&gt; Bool
&gt;= :: Interval' a -&gt; Interval' a -&gt; Bool
$cmax :: forall a. Ord a =&gt; Interval' a -&gt; Interval' a -&gt; Interval' a
max :: Interval' a -&gt; Interval' a -&gt; Interval' a
$cmin :: forall a. Ord a =&gt; Interval' a -&gt; Interval' a -&gt; Interval' a
min :: Interval' a -&gt; Interval' a -&gt; Interval' a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943001"><span id="local-6989586621680943005"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; Interval' a -&gt; Interval' b)
-&gt; (forall a b. a -&gt; Interval' b -&gt; Interval' a)
-&gt; Functor Interval'
forall a b. a -&gt; Interval' b -&gt; Interval' a
forall a b. (a -&gt; b) -&gt; Interval' a -&gt; Interval' b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; Interval' a -&gt; Interval' b
fmap :: forall a b. (a -&gt; b) -&gt; Interval' a -&gt; Interval' b
$c&lt;$ :: forall a b. a -&gt; Interval' b -&gt; Interval' a
&lt;$ :: forall a b. a -&gt; Interval' b -&gt; Interval' a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943010"><span id="local-6989586621680943016"><span id="local-6989586621680943024"><span id="local-6989586621680943029"><span id="local-6989586621680943033"><span id="local-6989586621680943036"><span id="local-6989586621680943039"><span id="local-6989586621680943042"><span id="local-6989586621680943045"><span id="local-6989586621680943048"><span id="local-6989586621680943051"><span id="local-6989586621680943055"><span id="local-6989586621680943058"><span id="local-6989586621680943063"><span id="local-6989586621680943068"><span id="local-6989586621680943073"><span id="local-6989586621680943078"><span class="annot"><span class="annottext">(forall m. Monoid m =&gt; Interval' m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Interval' a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Interval' a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Interval' a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Interval' a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Interval' a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Interval' a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Interval' a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Interval' a -&gt; a)
-&gt; (forall a. Interval' a -&gt; [a])
-&gt; (forall a. Interval' a -&gt; Bool)
-&gt; (forall a. Interval' a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; Interval' a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; Interval' a -&gt; a)
-&gt; (forall a. Ord a =&gt; Interval' a -&gt; a)
-&gt; (forall a. Num a =&gt; Interval' a -&gt; a)
-&gt; (forall a. Num a =&gt; Interval' a -&gt; a)
-&gt; Foldable Interval'
forall a. Eq a =&gt; a -&gt; Interval' a -&gt; Bool
forall a. Num a =&gt; Interval' a -&gt; a
forall a. Ord a =&gt; Interval' a -&gt; a
forall m. Monoid m =&gt; Interval' m -&gt; m
forall a. Interval' a -&gt; Bool
forall a. Interval' a -&gt; Int
forall a. Interval' a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; Interval' a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Interval' a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Interval' a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Interval' a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
$cfold :: forall m. Monoid m =&gt; Interval' m -&gt; m
fold :: forall m. Monoid m =&gt; Interval' m -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Interval' a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Interval' a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Interval' a -&gt; m
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Interval' a -&gt; m
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Interval' a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Interval' a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Interval' a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Interval' a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Interval' a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Interval' a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Interval' a -&gt; b
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Interval' a -&gt; b
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Interval' a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Interval' a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Interval' a -&gt; a
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Interval' a -&gt; a
$ctoList :: forall a. Interval' a -&gt; [a]
toList :: forall a. Interval' a -&gt; [a]
$cnull :: forall a. Interval' a -&gt; Bool
null :: forall a. Interval' a -&gt; Bool
$clength :: forall a. Interval' a -&gt; Int
length :: forall a. Interval' a -&gt; Int
$celem :: forall a. Eq a =&gt; a -&gt; Interval' a -&gt; Bool
elem :: forall a. Eq a =&gt; a -&gt; Interval' a -&gt; Bool
$cmaximum :: forall a. Ord a =&gt; Interval' a -&gt; a
maximum :: forall a. Ord a =&gt; Interval' a -&gt; a
$cminimum :: forall a. Ord a =&gt; Interval' a -&gt; a
minimum :: forall a. Ord a =&gt; Interval' a -&gt; a
$csum :: forall a. Num a =&gt; Interval' a -&gt; a
sum :: forall a. Num a =&gt; Interval' a -&gt; a
$cproduct :: forall a. Num a =&gt; Interval' a -&gt; a
product :: forall a. Num a =&gt; Interval' a -&gt; a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943087"><span id="local-6989586621680943095"><span id="local-6989586621680943101"><span id="local-6989586621680943106"><span class="annot"><span class="annottext">Functor Interval'
Foldable Interval'
(Functor Interval', Foldable Interval') =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; Interval' a -&gt; f (Interval' b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    Interval' (f a) -&gt; f (Interval' a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; Interval' a -&gt; m (Interval' b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    Interval' (m a) -&gt; m (Interval' a))
-&gt; Traversable Interval'
forall (t :: * -&gt; *).
(Functor t, Foldable t) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a.
Monad m =&gt;
Interval' (m a) -&gt; m (Interval' a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
Interval' (f a) -&gt; f (Interval' a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Interval' a -&gt; m (Interval' b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Interval' a -&gt; f (Interval' b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Interval' a -&gt; f (Interval' b)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Interval' a -&gt; f (Interval' b)
$csequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Interval' (f a) -&gt; f (Interval' a)
sequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Interval' (f a) -&gt; f (Interval' a)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Interval' a -&gt; m (Interval' b)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Interval' a -&gt; m (Interval' b)
$csequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
Interval' (m a) -&gt; m (Interval' a)
sequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
Interval' (m a) -&gt; m (Interval' a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943111"><span id="local-6989586621680943113"><span class="annot"><span class="annottext">(forall x. Interval' a -&gt; Rep (Interval' a) x)
-&gt; (forall x. Rep (Interval' a) x -&gt; Interval' a)
-&gt; Generic (Interval' a)
forall x. Rep (Interval' a) x -&gt; Interval' a
forall x. Interval' a -&gt; Rep (Interval' a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall a x. Rep (Interval' a) x -&gt; Interval' a
forall a x. Interval' a -&gt; Rep (Interval' a) x
$cfrom :: forall a x. Interval' a -&gt; Rep (Interval' a) x
from :: forall x. Interval' a -&gt; Rep (Interval' a) x
$cto :: forall a x. Rep (Interval' a) x -&gt; Interval' a
to :: forall x. Rep (Interval' a) x -&gt; Interval' a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-keyword">type</span><span> </span><span id="Interval"><span class="annot"><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-type">Interval'</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#SrcFile"><span class="hs-identifier hs-type">SrcFile</span></a></span><span>
</span><span id="line-203"></span><span class="hs-keyword">type</span><span> </span><span id="IntervalWithoutFile"><span class="annot"><a href="Agda.Syntax.Position.html#IntervalWithoutFile"><span class="hs-identifier hs-var">IntervalWithoutFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-type">Interval'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-206"></span><span>  </span><span id="local-6989586621680943117"><span class="annot"><span class="annottext">rnf :: Interval -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">rnf</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval -&gt; () -&gt; ()
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#IntervalWithoutFile"><span class="hs-identifier hs-type">IntervalWithoutFile</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-209"></span><span>  </span><span id="local-6989586621680943120"><span class="annot"><span class="annottext">rnf :: IntervalWithoutFile -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">rnf</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalWithoutFile -&gt; () -&gt; ()
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span id="local-6989586621680942243"><span class="annot"><a href="Agda.Syntax.Position.html#intervalInvariant"><span class="hs-identifier hs-type">intervalInvariant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621680942243"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-type">Interval'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942243"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-212"></span><span id="intervalInvariant"><span class="annot"><span class="annottext">intervalInvariant :: forall a. Ord a =&gt; Interval' a -&gt; Bool
</span><a href="Agda.Syntax.Position.html#intervalInvariant"><span class="hs-identifier hs-var hs-var">intervalInvariant</span></a></span></span><span> </span><span id="local-6989586621680943127"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680943127"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-213"></span><span>  </span><span class="annot"><span class="annottext">(Position' a -&gt; Bool) -&gt; [Position' a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Bool
forall a. Position' a -&gt; Bool
</span><a href="Agda.Syntax.Position.html#positionInvariant"><span class="hs-identifier hs-var">positionInvariant</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680943127"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680943127"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-214"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-215"></span><span>  </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680943127"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Position' a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680943127"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-216"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-217"></span><span>  </span><span class="annot"><span class="annottext">Position' a -&gt; a
forall a. Position' a -&gt; a
</span><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680943127"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; a
forall a. Position' a -&gt; a
</span><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680943127"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="annot"><span class="hs-comment">-- | Sets the 'srcFile' components of the interval.</span></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span id="local-6989586621680943130"><span id="local-6989586621680943131"><span class="annot"><a href="Agda.Syntax.Position.html#setIntervalFile"><span class="hs-identifier hs-type">setIntervalFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680943130"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-type">Interval'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680943131"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-type">Interval'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680943130"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-222"></span><span id="setIntervalFile"><span class="annot"><span class="annottext">setIntervalFile :: forall a b. a -&gt; Interval' b -&gt; Interval' a
</span><a href="Agda.Syntax.Position.html#setIntervalFile"><span class="hs-identifier hs-var hs-var">setIntervalFile</span></a></span></span><span> </span><span id="local-6989586621680943132"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943132"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621680943133"><span class="annot"><span class="annottext">Position' b
</span><a href="#local-6989586621680943133"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621680943134"><span class="annot"><span class="annottext">Position' b
</span><a href="#local-6989586621680943134"><span class="hs-identifier hs-var">p2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-223"></span><span>  </span><span class="annot"><span class="annottext">Position' a -&gt; Position' a -&gt; Interval' a
forall a. Position' a -&gt; Position' a -&gt; Interval' a
</span><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position' b
</span><a href="#local-6989586621680943133"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621680943132"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position' b
</span><a href="#local-6989586621680943134"><span class="hs-identifier hs-var">p2</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621680943132"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="hs-comment">-- | Gets the 'srcFile' component of the interval. Because of the invariant,</span><span>
</span><span id="line-226"></span><span class="hs-comment">--   they are both the same.</span><span>
</span><span id="line-227"></span><span id="local-6989586621680942249"><span class="annot"><a href="Agda.Syntax.Position.html#getIntervalFile"><span class="hs-identifier hs-type">getIntervalFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-type">Interval'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942249"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680942249"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-228"></span><span id="getIntervalFile"><span class="annot"><span class="annottext">getIntervalFile :: forall a. Interval' a -&gt; a
</span><a href="Agda.Syntax.Position.html#getIntervalFile"><span class="hs-identifier hs-var hs-var">getIntervalFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; a
forall a. Position' a -&gt; a
</span><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="annot"><span class="annottext">(Position' a -&gt; a)
-&gt; (Interval' a -&gt; Position' a) -&gt; Interval' a -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span class="annot"><span class="hs-comment">-- | Converts a file name and two positions to an interval.</span></span><span>
</span><span id="line-231"></span><span id="local-6989586621680942254"><span class="annot"><a href="Agda.Syntax.Position.html#posToInterval"><span class="hs-identifier hs-type">posToInterval</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-232"></span><span>  </span><span class="annot"><a href="#local-6989586621680942254"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#PositionWithoutFile"><span class="hs-identifier hs-type">PositionWithoutFile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#PositionWithoutFile"><span class="hs-identifier hs-type">PositionWithoutFile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-type">Interval'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942254"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-233"></span><span id="posToInterval"><span class="annot"><span class="annottext">posToInterval :: forall a.
a -&gt; PositionWithoutFile -&gt; PositionWithoutFile -&gt; Interval' a
</span><a href="Agda.Syntax.Position.html#posToInterval"><span class="hs-identifier hs-var hs-var">posToInterval</span></a></span></span><span> </span><span id="local-6989586621680943139"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943139"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680943140"><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943140"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621680943141"><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943141"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; IntervalWithoutFile -&gt; Interval' a
forall a b. a -&gt; Interval' b -&gt; Interval' a
</span><a href="Agda.Syntax.Position.html#setIntervalFile"><span class="hs-identifier hs-var">setIntervalFile</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943139"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(IntervalWithoutFile -&gt; Interval' a)
-&gt; IntervalWithoutFile -&gt; Interval' a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943140"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile -&gt; PositionWithoutFile -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943141"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile -&gt; PositionWithoutFile -&gt; IntervalWithoutFile
forall a. Position' a -&gt; Position' a -&gt; Interval' a
</span><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943140"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943141"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile -&gt; PositionWithoutFile -&gt; IntervalWithoutFile
forall a. Position' a -&gt; Position' a -&gt; Interval' a
</span><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943141"><span class="hs-identifier hs-var">p2</span></a></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943140"><span class="hs-identifier hs-var">p1</span></a></span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span class="annot"><span class="hs-comment">-- | The length of an interval.</span></span><span>
</span><span id="line-239"></span><span id="local-6989586621680942259"><span class="annot"><a href="Agda.Syntax.Position.html#iLength"><span class="hs-identifier hs-type">iLength</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-type">Interval'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942259"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int32</span></span></span><span>
</span><span id="line-240"></span><span id="iLength"><span class="annot"><span class="annottext">iLength :: forall a. Interval' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#iLength"><span class="hs-identifier hs-var hs-var">iLength</span></a></span></span><span> </span><span id="local-6989586621680943144"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680943144"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Int32
forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posPos"><span class="hs-identifier hs-var">posPos</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680943144"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Int32
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Int32
forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posPos"><span class="hs-identifier hs-var">posPos</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680943144"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-comment">-- | A range is a file name, plus a sequence of intervals, assumed to</span><span>
</span><span id="line-243"></span><span class="hs-comment">-- point to the given file. The intervals should be consecutive and</span><span>
</span><span id="line-244"></span><span class="hs-comment">-- separated.</span><span>
</span><span id="line-245"></span><span class="hs-comment">--</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- Note the invariant which ranges have to satisfy: 'rangeInvariant'.</span><span>
</span><span id="line-247"></span><span class="hs-keyword">data</span><span> </span><span id="Range%27"><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-var">Range'</span></a></span></span><span> </span><span id="local-6989586621680942318"><span class="annot"><a href="#local-6989586621680942318"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="NoRange"><span class="annot"><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span></span><span>
</span><span id="line-249"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Range"><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-var">Range</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621680942318"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Seq</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#IntervalWithoutFile"><span class="hs-identifier hs-type">IntervalWithoutFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>  </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-251"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621680943148"><span id="local-6989586621680943155"><span id="local-6989586621680943159"><span class="annot"><span class="annottext">Int -&gt; Range' a -&gt; ShowS
[Range' a] -&gt; ShowS
Range' a -&gt; String
(Int -&gt; Range' a -&gt; ShowS)
-&gt; (Range' a -&gt; String) -&gt; ([Range' a] -&gt; ShowS) -&gt; Show (Range' a)
forall a. Show a =&gt; Int -&gt; Range' a -&gt; ShowS
forall a. Show a =&gt; [Range' a] -&gt; ShowS
forall a. Show a =&gt; Range' a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; Range' a -&gt; ShowS
showsPrec :: Int -&gt; Range' a -&gt; ShowS
$cshow :: forall a. Show a =&gt; Range' a -&gt; String
show :: Range' a -&gt; String
$cshowList :: forall a. Show a =&gt; [Range' a] -&gt; ShowS
showList :: [Range' a] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943165"><span id="local-6989586621680943171"><span class="annot"><span class="annottext">Range' a -&gt; Range' a -&gt; Bool
(Range' a -&gt; Range' a -&gt; Bool)
-&gt; (Range' a -&gt; Range' a -&gt; Bool) -&gt; Eq (Range' a)
forall a. Eq a =&gt; Range' a -&gt; Range' a -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall a. Eq a =&gt; Range' a -&gt; Range' a -&gt; Bool
== :: Range' a -&gt; Range' a -&gt; Bool
$c/= :: forall a. Eq a =&gt; Range' a -&gt; Range' a -&gt; Bool
/= :: Range' a -&gt; Range' a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943181"><span id="local-6989586621680943187"><span id="local-6989586621680943192"><span id="local-6989586621680943196"><span id="local-6989586621680943199"><span id="local-6989586621680943202"><span id="local-6989586621680943205"><span class="annot"><span class="annottext">Eq (Range' a)
Eq (Range' a) =&gt;
(Range' a -&gt; Range' a -&gt; Ordering)
-&gt; (Range' a -&gt; Range' a -&gt; Bool)
-&gt; (Range' a -&gt; Range' a -&gt; Bool)
-&gt; (Range' a -&gt; Range' a -&gt; Bool)
-&gt; (Range' a -&gt; Range' a -&gt; Bool)
-&gt; (Range' a -&gt; Range' a -&gt; Range' a)
-&gt; (Range' a -&gt; Range' a -&gt; Range' a)
-&gt; Ord (Range' a)
Range' a -&gt; Range' a -&gt; Bool
Range' a -&gt; Range' a -&gt; Ordering
Range' a -&gt; Range' a -&gt; Range' a
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall a. Ord a =&gt; Eq (Range' a)
forall a. Ord a =&gt; Range' a -&gt; Range' a -&gt; Bool
forall a. Ord a =&gt; Range' a -&gt; Range' a -&gt; Ordering
forall a. Ord a =&gt; Range' a -&gt; Range' a -&gt; Range' a
$ccompare :: forall a. Ord a =&gt; Range' a -&gt; Range' a -&gt; Ordering
compare :: Range' a -&gt; Range' a -&gt; Ordering
$c&lt; :: forall a. Ord a =&gt; Range' a -&gt; Range' a -&gt; Bool
&lt; :: Range' a -&gt; Range' a -&gt; Bool
$c&lt;= :: forall a. Ord a =&gt; Range' a -&gt; Range' a -&gt; Bool
&lt;= :: Range' a -&gt; Range' a -&gt; Bool
$c&gt; :: forall a. Ord a =&gt; Range' a -&gt; Range' a -&gt; Bool
&gt; :: Range' a -&gt; Range' a -&gt; Bool
$c&gt;= :: forall a. Ord a =&gt; Range' a -&gt; Range' a -&gt; Bool
&gt;= :: Range' a -&gt; Range' a -&gt; Bool
$cmax :: forall a. Ord a =&gt; Range' a -&gt; Range' a -&gt; Range' a
max :: Range' a -&gt; Range' a -&gt; Range' a
$cmin :: forall a. Ord a =&gt; Range' a -&gt; Range' a -&gt; Range' a
min :: Range' a -&gt; Range' a -&gt; Range' a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943210"><span id="local-6989586621680943212"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; Range' a -&gt; Range' b)
-&gt; (forall a b. a -&gt; Range' b -&gt; Range' a) -&gt; Functor Range'
forall a b. a -&gt; Range' b -&gt; Range' a
forall a b. (a -&gt; b) -&gt; Range' a -&gt; Range' b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; Range' a -&gt; Range' b
fmap :: forall a b. (a -&gt; b) -&gt; Range' a -&gt; Range' b
$c&lt;$ :: forall a b. a -&gt; Range' b -&gt; Range' a
&lt;$ :: forall a b. a -&gt; Range' b -&gt; Range' a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943215"><span id="local-6989586621680943221"><span id="local-6989586621680943225"><span id="local-6989586621680943230"><span id="local-6989586621680943232"><span id="local-6989586621680943235"><span id="local-6989586621680943238"><span id="local-6989586621680943241"><span id="local-6989586621680943244"><span id="local-6989586621680943247"><span id="local-6989586621680943250"><span id="local-6989586621680943252"><span id="local-6989586621680943255"><span id="local-6989586621680943260"><span id="local-6989586621680943265"><span id="local-6989586621680943270"><span id="local-6989586621680943275"><span class="annot"><span class="annottext">(forall m. Monoid m =&gt; Range' m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Range' a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Range' a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Range' a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Range' a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Range' a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Range' a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Range' a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Range' a -&gt; a)
-&gt; (forall a. Range' a -&gt; [a])
-&gt; (forall a. Range' a -&gt; Bool)
-&gt; (forall a. Range' a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; Range' a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; Range' a -&gt; a)
-&gt; (forall a. Ord a =&gt; Range' a -&gt; a)
-&gt; (forall a. Num a =&gt; Range' a -&gt; a)
-&gt; (forall a. Num a =&gt; Range' a -&gt; a)
-&gt; Foldable Range'
forall a. Eq a =&gt; a -&gt; Range' a -&gt; Bool
forall a. Num a =&gt; Range' a -&gt; a
forall a. Ord a =&gt; Range' a -&gt; a
forall m. Monoid m =&gt; Range' m -&gt; m
forall a. Range' a -&gt; Bool
forall a. Range' a -&gt; Int
forall a. Range' a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; Range' a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Range' a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Range' a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Range' a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
$cfold :: forall m. Monoid m =&gt; Range' m -&gt; m
fold :: forall m. Monoid m =&gt; Range' m -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Range' a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Range' a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Range' a -&gt; m
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Range' a -&gt; m
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Range' a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Range' a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Range' a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Range' a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Range' a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Range' a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Range' a -&gt; b
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Range' a -&gt; b
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Range' a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Range' a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Range' a -&gt; a
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Range' a -&gt; a
$ctoList :: forall a. Range' a -&gt; [a]
toList :: forall a. Range' a -&gt; [a]
$cnull :: forall a. Range' a -&gt; Bool
null :: forall a. Range' a -&gt; Bool
$clength :: forall a. Range' a -&gt; Int
length :: forall a. Range' a -&gt; Int
$celem :: forall a. Eq a =&gt; a -&gt; Range' a -&gt; Bool
elem :: forall a. Eq a =&gt; a -&gt; Range' a -&gt; Bool
$cmaximum :: forall a. Ord a =&gt; Range' a -&gt; a
maximum :: forall a. Ord a =&gt; Range' a -&gt; a
$cminimum :: forall a. Ord a =&gt; Range' a -&gt; a
minimum :: forall a. Ord a =&gt; Range' a -&gt; a
$csum :: forall a. Num a =&gt; Range' a -&gt; a
sum :: forall a. Num a =&gt; Range' a -&gt; a
$cproduct :: forall a. Num a =&gt; Range' a -&gt; a
product :: forall a. Num a =&gt; Range' a -&gt; a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943284"><span id="local-6989586621680943290"><span id="local-6989586621680943296"><span id="local-6989586621680943301"><span class="annot"><span class="annottext">Functor Range'
Foldable Range'
(Functor Range', Foldable Range') =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; Range' a -&gt; f (Range' b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    Range' (f a) -&gt; f (Range' a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; Range' a -&gt; m (Range' b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    Range' (m a) -&gt; m (Range' a))
-&gt; Traversable Range'
forall (t :: * -&gt; *).
(Functor t, Foldable t) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a. Monad m =&gt; Range' (m a) -&gt; m (Range' a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
Range' (f a) -&gt; f (Range' a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Range' a -&gt; m (Range' b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Range' a -&gt; f (Range' b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Range' a -&gt; f (Range' b)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Range' a -&gt; f (Range' b)
$csequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Range' (f a) -&gt; f (Range' a)
sequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Range' (f a) -&gt; f (Range' a)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Range' a -&gt; m (Range' b)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Range' a -&gt; m (Range' b)
$csequence :: forall (m :: * -&gt; *) a. Monad m =&gt; Range' (m a) -&gt; m (Range' a)
sequence :: forall (m :: * -&gt; *) a. Monad m =&gt; Range' (m a) -&gt; m (Range' a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943306"><span id="local-6989586621680943308"><span class="annot"><span class="annottext">(forall x. Range' a -&gt; Rep (Range' a) x)
-&gt; (forall x. Rep (Range' a) x -&gt; Range' a) -&gt; Generic (Range' a)
forall x. Rep (Range' a) x -&gt; Range' a
forall x. Range' a -&gt; Rep (Range' a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall a x. Rep (Range' a) x -&gt; Range' a
forall a x. Range' a -&gt; Rep (Range' a) x
$cfrom :: forall a x. Range' a -&gt; Rep (Range' a) x
from :: forall x. Range' a -&gt; Rep (Range' a) x
$cto :: forall a x. Rep (Range' a) x -&gt; Range' a
to :: forall x. Rep (Range' a) x -&gt; Range' a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span class="hs-keyword">type</span><span> </span><span id="Range"><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-var">Range</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#SrcFile"><span class="hs-identifier hs-type">SrcFile</span></a></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942306"><span id="local-6989586621680943312"><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="#local-6989586621680942306"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942306"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942310"><span class="annot"><a href="Agda.Utils.Null.html#Null"><span class="hs-identifier hs-type">Null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942310"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-258"></span><span>  </span><span id="local-6989586621680943339"><span class="annot"><span class="annottext">null :: Range' a -&gt; Bool
</span><a href="#local-6989586621680943339"><span class="hs-identifier hs-var hs-var hs-var hs-var">null</span></a></span></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-259"></span><span>  </span><span class="annot"><a href="Agda.Utils.Null.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span>  </span><span id="local-6989586621680943341"><span class="annot"><span class="annottext">empty :: Range' a
</span><a href="#local-6989586621680943341"><span class="hs-identifier hs-var hs-var hs-var hs-var">empty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range' a
forall a. Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942315"><span id="local-6989586621680943346"><span id="local-6989586621680943350"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621680942315"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942315"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-264"></span><span>  </span><span class="annot"><span class="annottext">Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span> </span><span id="local-6989586621680943360"><span class="annot"><span class="annottext">&lt;&gt; :: Range' a -&gt; Range' a -&gt; Range' a
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span id="local-6989586621680943361"><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680943361"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680943361"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-265"></span><span>  </span><span id="local-6989586621680943362"><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680943362"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680943362"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-266"></span><span>  </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span id="local-6989586621680943363"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943363"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680943364"><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680943364"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span id="local-6989586621680943365"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943365"><span class="hs-identifier hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621680943366"><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680943366"><span class="hs-identifier hs-var">is'</span></a></span></span><span>
</span><span id="line-267"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943363"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943365"><span class="hs-identifier hs-var">f'</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range' a
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-268"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Seq IntervalWithoutFile -&gt; Range' a
forall a. a -&gt; Seq IntervalWithoutFile -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-var">Range</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943363"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680943364"><span class="hs-identifier hs-var">is</span></a></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
-&gt; Seq IntervalWithoutFile -&gt; Seq IntervalWithoutFile
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680943366"><span class="hs-identifier hs-var">is'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942321"><span id="local-6989586621680943375"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621680942321"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942321"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-271"></span><span>  </span><span id="local-6989586621680943380"><span class="annot"><span class="annottext">mempty :: Range' a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range' a
forall a. Null a =&gt; a
</span><a href="Agda.Utils.Null.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-272"></span><span>  </span><span id="local-6989586621680943382"><span class="annot"><span class="annottext">mappend :: Range' a -&gt; Range' a -&gt; Range' a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range' a -&gt; Range' a -&gt; Range' a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span class="hs-comment">-- | The intervals that make up the range. The intervals are</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- consecutive and separated ('consecutiveAndSeparated').</span><span>
</span><span id="line-276"></span><span id="local-6989586621680942322"><span class="annot"><a href="Agda.Syntax.Position.html#rangeIntervals"><span class="hs-identifier hs-type">rangeIntervals</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942322"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Position.html#IntervalWithoutFile"><span class="hs-identifier hs-type">IntervalWithoutFile</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-277"></span><span id="rangeIntervals"><span class="annot"><span class="annottext">rangeIntervals :: forall a. Range' a -&gt; [IntervalWithoutFile]
</span><a href="Agda.Syntax.Position.html#rangeIntervals"><span class="hs-identifier hs-var hs-var">rangeIntervals</span></a></span></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-278"></span><span class="annot"><a href="Agda.Syntax.Position.html#rangeIntervals"><span class="hs-identifier hs-var">rangeIntervals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680943385"><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680943385"><span class="hs-identifier hs-var">is</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile -&gt; [IntervalWithoutFile]
forall a. Seq a -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">Fold.toList</span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680943385"><span class="hs-identifier hs-var">is</span></a></span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="hs-comment">-- | Turns a file name plus a list of intervals into a range.</span><span>
</span><span id="line-281"></span><span class="hs-comment">--</span><span>
</span><span id="line-282"></span><span class="hs-comment">-- Precondition: 'consecutiveAndSeparated'.</span><span>
</span><span id="line-283"></span><span id="local-6989586621680942324"><span class="annot"><a href="Agda.Syntax.Position.html#intervalsToRange"><span class="hs-identifier hs-type">intervalsToRange</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680942324"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Position.html#IntervalWithoutFile"><span class="hs-identifier hs-type">IntervalWithoutFile</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942324"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-284"></span><span id="intervalsToRange"><span class="annot"><span class="annottext">intervalsToRange :: forall a. a -&gt; [IntervalWithoutFile] -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#intervalsToRange"><span class="hs-identifier hs-var hs-var">intervalsToRange</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range' a
forall a. Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>
</span><span id="line-285"></span><span class="annot"><a href="Agda.Syntax.Position.html#intervalsToRange"><span class="hs-identifier hs-var">intervalsToRange</span></a></span><span> </span><span id="local-6989586621680943387"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943387"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680943388"><span class="annot"><span class="annottext">[IntervalWithoutFile]
</span><a href="#local-6989586621680943388"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Seq IntervalWithoutFile -&gt; Range' a
forall a. a -&gt; Seq IntervalWithoutFile -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-var">Range</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943387"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[IntervalWithoutFile] -&gt; Seq IntervalWithoutFile
forall a. [a] -&gt; Seq a
</span><span class="hs-identifier hs-var">Seq.fromList</span></span><span> </span><span class="annot"><span class="annottext">[IntervalWithoutFile]
</span><a href="#local-6989586621680943388"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="hs-comment">-- | Are the intervals consecutive and separated, do they all point to</span><span>
</span><span id="line-288"></span><span class="hs-comment">-- the same file, and do they satisfy the interval invariant?</span><span>
</span><span id="line-289"></span><span id="local-6989586621680942327"><span class="annot"><a href="Agda.Syntax.Position.html#consecutiveAndSeparated"><span class="hs-identifier hs-type">consecutiveAndSeparated</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621680942327"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-type">Interval'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942327"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-290"></span><span id="consecutiveAndSeparated"><span class="annot"><span class="annottext">consecutiveAndSeparated :: forall a. Ord a =&gt; [Interval' a] -&gt; Bool
</span><a href="Agda.Syntax.Position.html#consecutiveAndSeparated"><span class="hs-identifier hs-var hs-var">consecutiveAndSeparated</span></a></span></span><span> </span><span id="local-6989586621680943396"><span class="annot"><span class="annottext">[Interval' a]
</span><a href="#local-6989586621680943396"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-291"></span><span>  </span><span class="annot"><span class="annottext">(Interval' a -&gt; Bool) -&gt; [Interval' a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Bool
forall a. Ord a =&gt; Interval' a -&gt; Bool
</span><a href="Agda.Syntax.Position.html#intervalInvariant"><span class="hs-identifier hs-var">intervalInvariant</span></a></span><span> </span><span class="annot"><span class="annottext">[Interval' a]
</span><a href="#local-6989586621680943396"><span class="hs-identifier hs-var">is</span></a></span><span>
</span><span id="line-292"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-293"></span><span>  </span><span class="annot"><span class="annottext">[a] -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; Bool
</span><a href="Agda.Utils.List.html#allEqual"><span class="hs-identifier hs-var">allEqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Interval' a -&gt; a) -&gt; [Interval' a] -&gt; [a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position' a -&gt; a
forall a. Position' a -&gt; a
</span><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="annot"><span class="annottext">(Position' a -&gt; a)
-&gt; (Interval' a -&gt; Position' a) -&gt; Interval' a -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Interval' a]
</span><a href="#local-6989586621680943396"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-295"></span><span>  </span><span class="annot"><span class="annottext">(Interval' a -&gt; Interval' a -&gt; Bool) -&gt; [Interval' a] -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; [a] -&gt; Bool
</span><a href="Agda.Utils.List.html#allConsecutive"><span class="hs-identifier hs-var">allConsecutive</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621680943399"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680943399"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680943400"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680943400"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680943399"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Position' a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680943400"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Interval' a]
</span><a href="#local-6989586621680943396"><span class="hs-identifier hs-var">is</span></a></span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="annot"><span class="hs-comment">-- | Range invariant.</span></span><span>
</span><span id="line-298"></span><span id="local-6989586621680942333"><span class="annot"><a href="Agda.Syntax.Position.html#rangeInvariant"><span class="hs-identifier hs-type">rangeInvariant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621680942333"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942333"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-299"></span><span id="rangeInvariant"><span class="annot"><span class="annottext">rangeInvariant :: forall a. Ord a =&gt; Range' a -&gt; Bool
</span><a href="Agda.Syntax.Position.html#rangeInvariant"><span class="hs-identifier hs-var hs-var">rangeInvariant</span></a></span></span><span> </span><span id="local-6989586621680943405"><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680943405"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-300"></span><span>  </span><span class="annot"><span class="annottext">[IntervalWithoutFile] -&gt; Bool
forall a. Ord a =&gt; [Interval' a] -&gt; Bool
</span><a href="Agda.Syntax.Position.html#consecutiveAndSeparated"><span class="hs-identifier hs-var">consecutiveAndSeparated</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Range' a -&gt; [IntervalWithoutFile]
forall a. Range' a -&gt; [IntervalWithoutFile]
</span><a href="Agda.Syntax.Position.html#rangeIntervals"><span class="hs-identifier hs-var">rangeIntervals</span></a></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680943405"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-302"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680943405"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-303"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680943406"><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680943406"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Seq IntervalWithoutFile -&gt; Bool
forall a. Null a =&gt; a -&gt; Bool
</span><a href="Agda.Utils.Null.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680943406"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>    </span><span class="annot"><span class="annottext">Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span class="annot"><span class="hs-comment">-- | The file the range is pointing to.</span></span><span>
</span><span id="line-307"></span><span class="annot"><a href="Agda.Syntax.Position.html#rangeFile"><span class="hs-identifier hs-type">rangeFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#SrcFile"><span class="hs-identifier hs-type">SrcFile</span></a></span><span>
</span><span id="line-308"></span><span id="rangeFile"><span class="annot"><span class="annottext">rangeFile :: Range -&gt; SrcFile
</span><a href="Agda.Syntax.Position.html#rangeFile"><span class="hs-identifier hs-var hs-var">rangeFile</span></a></span></span><span> </span><span class="annot"><span class="annottext">Range
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcFile
forall a. Maybe a
</span><span class="hs-identifier hs-var">Strict.Nothing</span></span><span>
</span><span id="line-309"></span><span class="annot"><a href="Agda.Syntax.Position.html#rangeFile"><span class="hs-identifier hs-var">rangeFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span id="local-6989586621680943409"><span class="annot"><span class="annottext">SrcFile
</span><a href="#local-6989586621680943409"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcFile
</span><a href="#local-6989586621680943409"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span class="hs-comment">-- | The range's top-level module name, if any.</span><span>
</span><span id="line-312"></span><span class="hs-comment">--</span><span>
</span><span id="line-313"></span><span class="hs-comment">-- If there is no range, then 'Nothing' is returned. If there is a</span><span>
</span><span id="line-314"></span><span class="hs-comment">-- range without a module name, then @'Just' 'Nothing'@ is returned.</span><span>
</span><span id="line-315"></span><span class="annot"><a href="Agda.Syntax.Position.html#rangeModule%27"><span class="hs-identifier hs-type">rangeModule'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.TopLevelModuleName.html#TopLevelModuleName"><span class="hs-identifier hs-type">TopLevelModuleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span id="rangeModule%27"><span class="annot"><span class="annottext">rangeModule' :: Range -&gt; Maybe (Maybe TopLevelModuleName)
</span><a href="Agda.Syntax.Position.html#rangeModule%27"><span class="hs-identifier hs-var hs-var">rangeModule'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Range
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe TopLevelModuleName)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-317"></span><span class="annot"><a href="Agda.Syntax.Position.html#rangeModule%27"><span class="hs-identifier hs-var">rangeModule'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span id="local-6989586621680943410"><span class="annot"><span class="annottext">SrcFile
</span><a href="#local-6989586621680943410"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TopLevelModuleName -&gt; Maybe (Maybe TopLevelModuleName)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Maybe TopLevelModuleName -&gt; Maybe (Maybe TopLevelModuleName))
-&gt; Maybe TopLevelModuleName -&gt; Maybe (Maybe TopLevelModuleName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SrcFile
</span><a href="#local-6989586621680943410"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-318"></span><span>  </span><span class="annot"><span class="annottext">SrcFile
</span><span class="hs-identifier hs-var">Strict.Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe TopLevelModuleName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-319"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Strict.Just</span></span><span> </span><span id="local-6989586621680943412"><span class="annot"><span class="annottext">RangeFile
</span><a href="#local-6989586621680943412"><span class="hs-identifier hs-var">f</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RangeFile -&gt; Maybe TopLevelModuleName
</span><a href="Agda.Syntax.Position.html#rangeFileName"><span class="hs-identifier hs-var">rangeFileName</span></a></span><span> </span><span class="annot"><span class="annottext">RangeFile
</span><a href="#local-6989586621680943412"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span class="annot"><span class="hs-comment">-- | The range's top-level module name, if any.</span></span><span>
</span><span id="line-322"></span><span class="annot"><a href="Agda.Syntax.Position.html#rangeModule"><span class="hs-identifier hs-type">rangeModule</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.TopLevelModuleName.html#TopLevelModuleName"><span class="hs-identifier hs-type">TopLevelModuleName</span></a></span><span>
</span><span id="line-323"></span><span id="rangeModule"><span class="annot"><span class="annottext">rangeModule :: Range -&gt; Maybe TopLevelModuleName
</span><a href="Agda.Syntax.Position.html#rangeModule"><span class="hs-identifier hs-var hs-var">rangeModule</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe TopLevelModuleName) -&gt; Maybe TopLevelModuleName
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (Maybe TopLevelModuleName) -&gt; Maybe TopLevelModuleName)
-&gt; (Range -&gt; Maybe (Maybe TopLevelModuleName))
-&gt; Range
-&gt; Maybe TopLevelModuleName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Range -&gt; Maybe (Maybe TopLevelModuleName)
</span><a href="Agda.Syntax.Position.html#rangeModule%27"><span class="hs-identifier hs-var">rangeModule'</span></a></span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span class="annot"><span class="hs-comment">-- | Conflate a range to its right margin.</span></span><span>
</span><span id="line-326"></span><span class="annot"><a href="Agda.Syntax.Position.html#rightMargin"><span class="hs-identifier hs-type">rightMargin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span>
</span><span id="line-327"></span><span id="rightMargin"><span class="annot"><span class="annottext">rightMargin :: Range -&gt; Range
</span><a href="Agda.Syntax.Position.html#rightMargin"><span class="hs-identifier hs-var hs-var">rightMargin</span></a></span></span><span> </span><span id="local-6989586621680943413"><span class="annot"><span class="annottext">r :: Range
</span><a href="#local-6989586621680943413"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><span class="annottext">Range
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range
</span><a href="#local-6989586621680943413"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-328"></span><span class="annot"><a href="Agda.Syntax.Position.html#rightMargin"><span class="hs-identifier hs-var">rightMargin</span></a></span><span> </span><span id="local-6989586621680943414"><span class="annot"><span class="annottext">r :: Range
</span><a href="#local-6989586621680943414"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span id="local-6989586621680943415"><span class="annot"><span class="annottext">SrcFile
</span><a href="#local-6989586621680943415"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680943416"><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680943416"><span class="hs-identifier hs-var">is</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile -&gt; ViewR IntervalWithoutFile
forall a. Seq a -&gt; ViewR a
</span><span class="hs-identifier hs-var">Seq.viewr</span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680943416"><span class="hs-identifier hs-var">is</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-329"></span><span>  </span><span class="annot"><span class="annottext">ViewR IntervalWithoutFile
</span><span class="hs-identifier hs-var">Seq.EmptyR</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Range
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-330"></span><span>  </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">Seq.:&gt;</span></span><span> </span><span id="local-6989586621680943420"><span class="annot"><span class="annottext">IntervalWithoutFile
</span><a href="#local-6989586621680943420"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcFile -&gt; IntervalWithoutFile -&gt; Range
forall a. a -&gt; IntervalWithoutFile -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#intervalToRange"><span class="hs-identifier hs-var">intervalToRange</span></a></span><span> </span><span class="annot"><span class="annottext">SrcFile
</span><a href="#local-6989586621680943415"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalWithoutFile
</span><a href="#local-6989586621680943420"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680943420"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span class="annot"><span class="hs-comment">-- | Wrapper to indicate that range should be printed.</span></span><span>
</span><span id="line-333"></span><span class="hs-keyword">newtype</span><span> </span><span id="PrintRange"><span class="annot"><a href="Agda.Syntax.Position.html#PrintRange"><span class="hs-identifier hs-var">PrintRange</span></a></span></span><span> </span><span id="local-6989586621680943421"><span class="annot"><a href="#local-6989586621680943421"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PrintRange"><span class="annot"><a href="Agda.Syntax.Position.html#PrintRange"><span class="hs-identifier hs-var">PrintRange</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680943421"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-334"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680943425"><span id="local-6989586621680943429"><span class="annot"><span class="annottext">PrintRange a -&gt; PrintRange a -&gt; Bool
(PrintRange a -&gt; PrintRange a -&gt; Bool)
-&gt; (PrintRange a -&gt; PrintRange a -&gt; Bool) -&gt; Eq (PrintRange a)
forall a. Eq a =&gt; PrintRange a -&gt; PrintRange a -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall a. Eq a =&gt; PrintRange a -&gt; PrintRange a -&gt; Bool
== :: PrintRange a -&gt; PrintRange a -&gt; Bool
$c/= :: forall a. Eq a =&gt; PrintRange a -&gt; PrintRange a -&gt; Bool
/= :: PrintRange a -&gt; PrintRange a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943438"><span id="local-6989586621680943442"><span id="local-6989586621680943446"><span id="local-6989586621680943450"><span id="local-6989586621680943454"><span id="local-6989586621680943458"><span id="local-6989586621680943462"><span class="annot"><span class="annottext">Eq (PrintRange a)
Eq (PrintRange a) =&gt;
(PrintRange a -&gt; PrintRange a -&gt; Ordering)
-&gt; (PrintRange a -&gt; PrintRange a -&gt; Bool)
-&gt; (PrintRange a -&gt; PrintRange a -&gt; Bool)
-&gt; (PrintRange a -&gt; PrintRange a -&gt; Bool)
-&gt; (PrintRange a -&gt; PrintRange a -&gt; Bool)
-&gt; (PrintRange a -&gt; PrintRange a -&gt; PrintRange a)
-&gt; (PrintRange a -&gt; PrintRange a -&gt; PrintRange a)
-&gt; Ord (PrintRange a)
PrintRange a -&gt; PrintRange a -&gt; Bool
PrintRange a -&gt; PrintRange a -&gt; Ordering
PrintRange a -&gt; PrintRange a -&gt; PrintRange a
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall a. Ord a =&gt; Eq (PrintRange a)
forall a. Ord a =&gt; PrintRange a -&gt; PrintRange a -&gt; Bool
forall a. Ord a =&gt; PrintRange a -&gt; PrintRange a -&gt; Ordering
forall a. Ord a =&gt; PrintRange a -&gt; PrintRange a -&gt; PrintRange a
$ccompare :: forall a. Ord a =&gt; PrintRange a -&gt; PrintRange a -&gt; Ordering
compare :: PrintRange a -&gt; PrintRange a -&gt; Ordering
$c&lt; :: forall a. Ord a =&gt; PrintRange a -&gt; PrintRange a -&gt; Bool
&lt; :: PrintRange a -&gt; PrintRange a -&gt; Bool
$c&lt;= :: forall a. Ord a =&gt; PrintRange a -&gt; PrintRange a -&gt; Bool
&lt;= :: PrintRange a -&gt; PrintRange a -&gt; Bool
$c&gt; :: forall a. Ord a =&gt; PrintRange a -&gt; PrintRange a -&gt; Bool
&gt; :: PrintRange a -&gt; PrintRange a -&gt; Bool
$c&gt;= :: forall a. Ord a =&gt; PrintRange a -&gt; PrintRange a -&gt; Bool
&gt;= :: PrintRange a -&gt; PrintRange a -&gt; Bool
$cmax :: forall a. Ord a =&gt; PrintRange a -&gt; PrintRange a -&gt; PrintRange a
max :: PrintRange a -&gt; PrintRange a -&gt; PrintRange a
$cmin :: forall a. Ord a =&gt; PrintRange a -&gt; PrintRange a -&gt; PrintRange a
min :: PrintRange a -&gt; PrintRange a -&gt; PrintRange a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943468"><span class="annot"><span class="annottext">PrintRange a -&gt; Range
(PrintRange a -&gt; Range) -&gt; HasRange (PrintRange a)
forall a. HasRange a =&gt; PrintRange a -&gt; Range
forall a. (a -&gt; Range) -&gt; HasRange a
$cgetRange :: forall a. HasRange a =&gt; PrintRange a -&gt; Range
getRange :: PrintRange a -&gt; Range
</span><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">HasRange</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943478"><span class="annot"><span class="annottext">HasRange (PrintRange a)
HasRange (PrintRange a) =&gt;
(Range -&gt; PrintRange a -&gt; PrintRange a) -&gt; SetRange (PrintRange a)
Range -&gt; PrintRange a -&gt; PrintRange a
forall a. SetRange a =&gt; HasRange (PrintRange a)
forall a. SetRange a =&gt; Range -&gt; PrintRange a -&gt; PrintRange a
forall a. HasRange a =&gt; (Range -&gt; a -&gt; a) -&gt; SetRange a
$csetRange :: forall a. SetRange a =&gt; Range -&gt; PrintRange a -&gt; PrintRange a
setRange :: Range -&gt; PrintRange a -&gt; PrintRange a
</span><a href="Agda.Syntax.Position.html#SetRange"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">SetRange</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943486"><span class="annot"><span class="annottext">KillRangeT (PrintRange a)
KillRangeT (PrintRange a) -&gt; KillRange (PrintRange a)
forall a. KillRange a =&gt; KillRangeT (PrintRange a)
forall a. KillRangeT a -&gt; KillRange a
$ckillRange :: forall a. KillRange a =&gt; KillRangeT (PrintRange a)
killRange :: KillRangeT (PrintRange a)
</span><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">KillRange</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span class="annot"><span class="hs-comment">-- | Things that have a range are instances of this class.</span></span><span>
</span><span id="line-337"></span><span class="hs-keyword">class</span><span> </span><span id="HasRange"><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-var">HasRange</span></a></span></span><span> </span><span id="local-6989586621680942351"><span class="annot"><a href="#local-6989586621680942351"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-338"></span><span>  </span><span id="getRange"><span class="annot"><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-type">getRange</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680942351"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="getRange"><span class="annot"><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-type">getRange</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621680942359"><span id="local-6989586621680942360"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621680942359"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942360"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680942359"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942360"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621680942351"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680942351"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span></span></span><span>
</span><span id="line-341"></span><span>  </span><span id="local-6989586621680943493"><span class="annot"><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var hs-var">getRange</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; Range -&gt; Range) -&gt; Range -&gt; t b -&gt; Range
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">Fold.foldr</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Range -&gt; Range
forall u t. (HasRange u, HasRange t) =&gt; u -&gt; t -&gt; Range
</span><a href="Agda.Syntax.Position.html#fuseRange"><span class="hs-identifier hs-var">fuseRange</span></a></span><span> </span><span class="annot"><span class="annottext">Range
forall a. Range' a
</span><a href="Agda.Syntax.Position.html#noRange"><span class="hs-identifier hs-var">noRange</span></a></span></span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-344"></span><span>    </span><span id="local-6989586621680943506"><span class="annot"><span class="annottext">getRange :: Interval -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRange</span></a></span></span><span> </span><span id="local-6989586621680943507"><span class="annot"><span class="annottext">Interval
</span><a href="#local-6989586621680943507"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-345"></span><span>      </span><span class="annot"><span class="annottext">SrcFile -&gt; IntervalWithoutFile -&gt; Range
forall a. a -&gt; IntervalWithoutFile -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#intervalToRange"><span class="hs-identifier hs-var">intervalToRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position -&gt; SrcFile
forall a. Position' a -&gt; a
</span><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval -&gt; Position
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval
</span><a href="#local-6989586621680943507"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; Interval -&gt; IntervalWithoutFile
forall a b. a -&gt; Interval' b -&gt; Interval' a
</span><a href="Agda.Syntax.Position.html#setIntervalFile"><span class="hs-identifier hs-var">setIntervalFile</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Interval
</span><a href="#local-6989586621680943507"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-349"></span><span>    </span><span id="local-6989586621680943509"><span class="annot"><span class="annottext">getRange :: Range -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range -&gt; Range
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-352"></span><span>  </span><span id="local-6989586621680943513"><span class="annot"><span class="annottext">getRange :: () -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRange</span></a></span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range
forall a. Range' a
</span><a href="Agda.Syntax.Position.html#noRange"><span class="hs-identifier hs-var">noRange</span></a></span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-355"></span><span>    </span><span id="local-6989586621680943516"><span class="annot"><span class="annottext">getRange :: Bool -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRange</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range
forall a. Range' a
</span><a href="Agda.Syntax.Position.html#noRange"><span class="hs-identifier hs-var">noRange</span></a></span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span class="hs-comment">-- | Precondition: The ranges of the list elements must point to the</span><span>
</span><span id="line-358"></span><span class="hs-comment">-- same file (or be empty).</span><span>
</span><span id="line-359"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942367"><span id="local-6989586621680943519"><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942367"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680942367"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span class="hs-comment">-- | Precondition: The ranges of the list elements must point to the</span><span>
</span><span id="line-362"></span><span class="hs-comment">-- same file (or be empty).</span><span>
</span><span id="line-363"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942370"><span id="local-6989586621680943527"><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942370"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Utils.List1.html#List1"><span class="hs-identifier hs-type">List1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942370"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-364"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942373"><span id="local-6989586621680943536"><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942373"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Utils.List2.html#List2"><span class="hs-identifier hs-type">List2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942373"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-365"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942375"><span id="local-6989586621680943545"><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942375"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621680942375"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span class="hs-comment">-- | Precondition: The ranges of the tuple elements must point to the</span><span>
</span><span id="line-368"></span><span class="hs-comment">-- same file (or be empty).</span><span>
</span><span id="line-369"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942378"><span id="local-6989586621680942379"><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942378"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942379"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680942378"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942379"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-370"></span><span>    </span><span id="local-6989586621680943558"><span class="annot"><span class="annottext">getRange :: (a, b) -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; Range) -&gt; (a, b) -&gt; Range
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; Range
forall u t. (HasRange u, HasRange t) =&gt; u -&gt; t -&gt; Range
</span><a href="Agda.Syntax.Position.html#fuseRange"><span class="hs-identifier hs-var">fuseRange</span></a></span><span>
</span><span id="line-371"></span><span>
</span><span id="line-372"></span><span class="hs-comment">-- | Precondition: The ranges of the tuple elements must point to the</span><span>
</span><span id="line-373"></span><span class="hs-comment">-- same file (or be empty).</span><span>
</span><span id="line-374"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942386"><span id="local-6989586621680942387"><span id="local-6989586621680942388"><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942386"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942387"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942388"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680942386"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942387"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942388"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-375"></span><span>    </span><span id="local-6989586621680943567"><span class="annot"><span class="annottext">getRange :: (a, b, c) -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRange</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680943568"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943568"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943569"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943569"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943570"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680943570"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, (b, c)) -&gt; Range
forall a. HasRange a =&gt; a -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var">getRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943568"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943569"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680943570"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span class="hs-comment">-- | Precondition: The ranges of the tuple elements must point to the</span><span>
</span><span id="line-378"></span><span class="hs-comment">-- same file (or be empty).</span><span>
</span><span id="line-379"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942393"><span id="local-6989586621680942394"><span id="local-6989586621680942395"><span id="local-6989586621680942396"><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942393"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942394"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942395"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942396"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680942393"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942394"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942395"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942396"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-380"></span><span>    </span><span id="local-6989586621680943580"><span class="annot"><span class="annottext">getRange :: (a, b, c, d) -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRange</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680943581"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943581"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943582"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943582"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943583"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680943583"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943584"><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621680943584"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, (b, (c, d))) -&gt; Range
forall a. HasRange a =&gt; a -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var">getRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943581"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943582"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680943583"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621680943584"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="hs-comment">-- | Precondition: The ranges of the tuple elements must point to the</span><span>
</span><span id="line-383"></span><span class="hs-comment">-- same file (or be empty).</span><span>
</span><span id="line-384"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942402"><span id="local-6989586621680942403"><span id="local-6989586621680942404"><span id="local-6989586621680942405"><span id="local-6989586621680942406"><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942402"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942403"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942404"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942405"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942406"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680942402"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942403"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942404"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942405"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942406"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-385"></span><span>    </span><span id="local-6989586621680943596"><span class="annot"><span class="annottext">getRange :: (a, b, c, d, e) -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRange</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680943597"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943597"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943598"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943598"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943599"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680943599"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943600"><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621680943600"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943601"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621680943601"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, (b, (c, (d, e)))) -&gt; Range
forall a. HasRange a =&gt; a -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var">getRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943597"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943598"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680943599"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621680943600"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621680943601"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span class="hs-comment">-- | Precondition: The ranges of the tuple elements must point to the</span><span>
</span><span id="line-388"></span><span class="hs-comment">-- same file (or be empty).</span><span>
</span><span id="line-389"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942413"><span id="local-6989586621680942414"><span id="local-6989586621680942415"><span id="local-6989586621680942416"><span id="local-6989586621680942417"><span id="local-6989586621680942418"><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942413"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942414"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942415"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942416"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942417"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942418"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680942413"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942414"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942415"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942416"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942417"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942418"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-390"></span><span>    </span><span id="local-6989586621680943615"><span class="annot"><span class="annottext">getRange :: (a, b, c, d, e, f) -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRange</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680943616"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943616"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943617"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943617"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943618"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680943618"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943619"><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621680943619"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943620"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621680943620"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943621"><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680943621"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, (b, (c, (d, (e, f))))) -&gt; Range
forall a. HasRange a =&gt; a -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var">getRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943616"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943617"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680943618"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621680943619"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621680943620"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680943621"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span class="hs-comment">-- | Precondition: The ranges of the tuple elements must point to the</span><span>
</span><span id="line-393"></span><span class="hs-comment">-- same file (or be empty).</span><span>
</span><span id="line-394"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942426"><span id="local-6989586621680942427"><span id="local-6989586621680942428"><span id="local-6989586621680942429"><span id="local-6989586621680942430"><span id="local-6989586621680942431"><span id="local-6989586621680942432"><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942426"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942427"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942428"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942429"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942430"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942431"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942432"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680942426"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942427"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942428"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942429"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942430"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942431"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942432"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-395"></span><span>    </span><span id="local-6989586621680943637"><span class="annot"><span class="annottext">getRange :: (a, b, c, d, e, f, g) -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRange</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680943638"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943638"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943639"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943639"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943640"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680943640"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943641"><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621680943641"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943642"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621680943642"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943643"><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680943643"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680943644"><span class="annot"><span class="annottext">g
</span><a href="#local-6989586621680943644"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, (b, (c, (d, (e, (f, g)))))) -&gt; Range
forall a. HasRange a =&gt; a -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var">getRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943638"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943639"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680943640"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621680943641"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621680943642"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621680943643"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">g
</span><a href="#local-6989586621680943644"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942435"><span id="local-6989586621680942436"><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942435"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942436"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621680942435"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942436"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-398"></span><span>    </span><span id="local-6989586621680943651"><span class="annot"><span class="annottext">getRange :: Either a b -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Range) -&gt; (b -&gt; Range) -&gt; Either a b -&gt; Range
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Range
forall a. HasRange a =&gt; a -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var">getRange</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; Range
forall a. HasRange a =&gt; a -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var">getRange</span></a></span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="hs-comment">-- | If it is also possible to set the range, this is the class.</span><span>
</span><span id="line-401"></span><span class="hs-comment">--</span><span>
</span><span id="line-402"></span><span class="hs-comment">--   Instances should satisfy @'getRange' ('setRange' r x) == r@.</span><span>
</span><span id="line-403"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942355"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="SetRange"><span class="annot"><a href="Agda.Syntax.Position.html#SetRange"><span class="hs-identifier hs-var">SetRange</span></a></span></span><span> </span><span id="local-6989586621680942355"><span class="annot"><a href="#local-6989586621680942355"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-404"></span><span>  </span><span id="setRange"><span class="annot"><a href="Agda.Syntax.Position.html#setRange"><span class="hs-identifier hs-type">setRange</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680942355"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680942355"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="setRange"><span class="annot"><a href="Agda.Syntax.Position.html#setRange"><span class="hs-identifier hs-type">setRange</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621680942440"><span id="local-6989586621680942441"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621680942440"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#SetRange"><span class="hs-identifier hs-type">SetRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680942440"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621680942355"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680942355"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680942355"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-407"></span><span>  </span><span id="local-6989586621680943655"><span class="annot"><a href="Agda.Syntax.Position.html#setRange"><span class="hs-identifier hs-var hs-var">setRange</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; b) -&gt; a -&gt; a
(b -&gt; b) -&gt; f b -&gt; f b
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">((b -&gt; b) -&gt; a -&gt; a) -&gt; (Range -&gt; b -&gt; b) -&gt; Range -&gt; a -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Range -&gt; b -&gt; b
forall a. SetRange a =&gt; Range -&gt; a -&gt; a
</span><a href="Agda.Syntax.Position.html#setRange"><span class="hs-identifier hs-var">setRange</span></a></span></span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#SetRange"><span class="hs-identifier hs-type">SetRange</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-410"></span><span>  </span><span id="local-6989586621680943667"><span class="annot"><span class="annottext">setRange :: Range -&gt; Range -&gt; Range
</span><a href="Agda.Syntax.Position.html#setRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">setRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range -&gt; Range -&gt; Range
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942447"><span id="local-6989586621680943674"><span class="annot"><a href="Agda.Syntax.Position.html#SetRange"><span class="hs-identifier hs-type">SetRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942447"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#SetRange"><span class="hs-identifier hs-type">SetRange</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680942447"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-413"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942449"><span id="local-6989586621680943686"><span class="annot"><a href="Agda.Syntax.Position.html#SetRange"><span class="hs-identifier hs-type">SetRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942449"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#SetRange"><span class="hs-identifier hs-type">SetRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621680942449"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-414"></span><span>
</span><span id="line-415"></span><span class="annot"><span class="hs-comment">-- | Killing the range of an object sets all range information to 'noRange'.</span></span><span>
</span><span id="line-416"></span><span class="hs-keyword">class</span><span> </span><span id="KillRange"><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-var">KillRange</span></a></span></span><span> </span><span id="local-6989586621680942206"><span class="annot"><a href="#local-6989586621680942206"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-417"></span><span>  </span><span id="killRange"><span class="annot"><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-type">killRange</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRangeT"><span class="hs-identifier hs-type">KillRangeT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942206"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="killRange"><span class="annot"><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-type">killRange</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621680942450"><span id="local-6989586621680942451"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621680942450"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942451"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680942450"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942451"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621680942206"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRangeT"><span class="hs-identifier hs-type">KillRangeT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942206"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-420"></span><span>  </span><span id="local-6989586621680943694"><span class="annot"><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var hs-var">killRange</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; b) -&gt; f b -&gt; f b
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; b
forall a. KillRange a =&gt; KillRangeT a
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var">killRange</span></a></span></span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span class="hs-keyword">type</span><span> </span><span id="KillRangeT"><span class="annot"><a href="Agda.Syntax.Position.html#KillRangeT"><span class="hs-identifier hs-var">KillRangeT</span></a></span></span><span> </span><span id="local-6989586621680943702"><span class="annot"><a href="#local-6989586621680943702"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621680943702"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680943702"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-423"></span><span>
</span><span id="line-424"></span><span class="hs-keyword">class</span><span> </span><span id="KILLRANGE"><span class="annot"><a href="Agda.Syntax.Position.html#KILLRANGE"><span class="hs-identifier hs-var">KILLRANGE</span></a></span></span><span> </span><span id="local-6989586621680942459"><span class="annot"><a href="#local-6989586621680942459"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621680942460"><span class="annot"><a href="#local-6989586621680942460"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-425"></span><span>  </span><span id="killRangeN"><span class="annot"><a href="Agda.Syntax.Position.html#killRangeN"><span class="hs-identifier hs-type">killRangeN</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Utils.TypeLevel.html#IsBase"><span class="hs-identifier hs-type">IsBase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942459"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621680942460"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.TypeLevel.html#All"><span class="hs-identifier hs-type">All</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Utils.TypeLevel.html#Domains"><span class="hs-identifier hs-type">Domains</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942459"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-426"></span><span>                </span><span class="annot"><a href="#local-6989586621680942459"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680942459"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942461"><span class="annot"><a href="Agda.Utils.TypeLevel.html#IsBase"><span class="hs-identifier hs-type">IsBase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942461"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KILLRANGE"><span class="hs-identifier hs-type">KILLRANGE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942461"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">True</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-429"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#killRangeN"><span class="hs-pragma hs-type">killRangeN</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-430"></span><span>  </span><span id="local-6989586621680943710"><span class="annot"><span class="annottext">killRangeN :: (IsBase t ~ 'True, All KillRange (Domains t)) =&gt; t -&gt; t
</span><a href="Agda.Syntax.Position.html#killRangeN"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRangeN</span></a></span></span><span> </span><span id="local-6989586621680943711"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680943711"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680943711"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942464"><span id="local-6989586621680942465"><span class="annot"><a href="Agda.Syntax.Position.html#KILLRANGE"><span class="hs-identifier hs-type">KILLRANGE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942464"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Utils.TypeLevel.html#IsBase"><span class="hs-identifier hs-type">IsBase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942464"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KILLRANGE"><span class="hs-identifier hs-type">KILLRANGE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680942465"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680942464"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">False</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-433"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#killRangeN"><span class="hs-pragma hs-type">killRangeN</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-434"></span><span>  </span><span id="local-6989586621680943725"><span class="annot"><span class="annottext">killRangeN :: (IsBase (a -&gt; t) ~ 'False, All KillRange (Domains (a -&gt; t))) =&gt;
(a -&gt; t) -&gt; a -&gt; t
</span><a href="Agda.Syntax.Position.html#killRangeN"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRangeN</span></a></span></span><span> </span><span id="local-6989586621680943726"><span class="annot"><span class="annottext">a -&gt; t
</span><a href="#local-6989586621680943726"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680943727"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943727"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; t
forall t (b :: Bool).
(KILLRANGE t b, IsBase t ~ b, All KillRange (Domains t)) =&gt;
t -&gt; t
</span><a href="Agda.Syntax.Position.html#killRangeN"><span class="hs-identifier hs-var">killRangeN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; t
</span><a href="#local-6989586621680943726"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KillRangeT a
forall a. KillRange a =&gt; KillRangeT a
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var">killRange</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943727"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span class="annot"><span class="hs-comment">-- | Remove ranges in keys and values of a map.</span></span><span>
</span><span id="line-437"></span><span id="local-6989586621680942468"><span id="local-6989586621680942469"><span class="annot"><a href="Agda.Syntax.Position.html#killRangeMap"><span class="hs-identifier hs-type">killRangeMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942468"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942469"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRangeT"><span class="hs-identifier hs-type">KillRangeT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621680942468"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942469"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-438"></span><span id="killRangeMap"><span class="annot"><span class="annottext">killRangeMap :: forall k v. (KillRange k, KillRange v) =&gt; KillRangeT (Map k v)
</span><a href="Agda.Syntax.Position.html#killRangeMap"><span class="hs-identifier hs-var hs-var">killRangeMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; k) -&gt; Map k v -&gt; Map k v
forall k1 k2 a. (k1 -&gt; k2) -&gt; Map k1 a -&gt; Map k2 a
</span><span class="hs-identifier hs-var">Map.mapKeysMonotonic</span></span><span> </span><span class="annot"><span class="annottext">k -&gt; k
forall a. KillRange a =&gt; KillRangeT a
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var">killRange</span></a></span><span> </span><span class="annot"><span class="annottext">(Map k v -&gt; Map k v) -&gt; (Map k v -&gt; Map k v) -&gt; Map k v -&gt; Map k v
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(v -&gt; v) -&gt; Map k v -&gt; Map k v
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><span class="hs-identifier hs-var">Map.map</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; v
forall a. KillRange a =&gt; KillRangeT a
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var">killRange</span></a></span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-441"></span><span>  </span><span id="local-6989586621680943736"><span class="annot"><span class="annottext">killRange :: Range -&gt; Range
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRange</span></a></span></span><span> </span><span class="annot"><span class="annottext">Range
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range
forall a. Range' a
</span><a href="Agda.Syntax.Position.html#noRange"><span class="hs-identifier hs-var">noRange</span></a></span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-444"></span><span>  </span><span id="local-6989586621680943739"><span class="annot"><span class="annottext">killRange :: KillRangeT Void
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KillRangeT Void
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-445"></span><span>
</span><span id="line-446"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-447"></span><span>  </span><span id="local-6989586621680943742"><span class="annot"><span class="annottext">killRange :: () -&gt; ()
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; ()
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-450"></span><span>  </span><span id="local-6989586621680943745"><span class="annot"><span class="annottext">killRange :: Bool -&gt; Bool
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-453"></span><span>  </span><span id="local-6989586621680943748"><span class="annot"><span class="annottext">killRange :: KillRangeT Int
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KillRangeT Int
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-456"></span><span>  </span><span id="local-6989586621680943751"><span class="annot"><span class="annottext">killRange :: KillRangeT Integer
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KillRangeT Integer
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="Agda.Utils.Permutation.html#Permutation"><span class="hs-identifier hs-type">Permutation</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-459"></span><span>  </span><span id="local-6989586621680943754"><span class="annot"><span class="annottext">killRange :: KillRangeT Permutation
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KillRangeT Permutation
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-460"></span><span>
</span><span id="line-461"></span><span class="annot"><span class="hs-comment">-- | Overlaps with @KillRange [a]@.</span></span><span>
</span><span id="line-462"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-463"></span><span>  </span><span id="local-6989586621680943757"><span class="annot"><span class="annottext">killRange :: ShowS
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-464"></span><span>
</span><span id="line-465"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621680942481"><span id="local-6989586621680943760"><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942481"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680942481"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-466"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621680942485"><span id="local-6989586621680942486"><span id="local-6989586621680943768"><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942485"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621680942486"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942485"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-467"></span><span>
</span><span id="line-468"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942489"><span id="local-6989586621680943777"><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942489"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Utils.Permutation.html#Drop"><span class="hs-identifier hs-type">Drop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942489"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-469"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942491"><span id="local-6989586621680943786"><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942491"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Utils.List1.html#List1"><span class="hs-identifier hs-type">List1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942491"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-470"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942493"><span id="local-6989586621680943795"><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942493"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Utils.List2.html#List2"><span class="hs-identifier hs-type">List2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942493"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-471"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942127"><span id="local-6989586621680943804"><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942127"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621680942127"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-472"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942496"><span id="local-6989586621680943811"><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942496"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621680942496"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621680942499"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621680942499"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942499"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="#local-6989586621680942499"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-475"></span><span>  </span><span id="local-6989586621680943824"><span class="annot"><span class="annottext">killRange :: KillRangeT (Set a)
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; KillRangeT (Set a)
forall b a. Ord b =&gt; (a -&gt; b) -&gt; Set a -&gt; Set b
</span><span class="hs-identifier hs-var">Set.map</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. KillRange a =&gt; KillRangeT a
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var">killRange</span></a></span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942504"><span id="local-6989586621680942505"><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942504"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942505"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680942504"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680942505"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-478"></span><span>  </span><span id="local-6989586621680943832"><span class="annot"><span class="annottext">killRange :: KillRangeT (a, b)
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRange</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680943833"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943833"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943834"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943834"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KillRangeT a
forall a. KillRange a =&gt; KillRangeT a
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var">killRange</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943833"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KillRangeT b
forall a. KillRange a =&gt; KillRangeT a
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var">killRange</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943834"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-479"></span><span>
</span><span id="line-480"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942509"><span id="local-6989586621680942510"><span id="local-6989586621680942511"><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942509"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942510"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942511"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-481"></span><span>         </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680942509"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680942510"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680942511"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-482"></span><span>  </span><span id="local-6989586621680943857"><span class="annot"><span class="annottext">killRange :: KillRangeT (a, b, c)
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRange</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680943858"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943858"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943859"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943859"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943860"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680943860"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c -&gt; (a, b, c)) -&gt; a -&gt; b -&gt; c -&gt; (a, b, c)
forall t (b :: Bool).
(KILLRANGE t b, IsBase t ~ b, All KillRange (Domains t)) =&gt;
t -&gt; t
</span><a href="Agda.Syntax.Position.html#killRangeN"><span class="hs-identifier hs-var">killRangeN</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943858"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943859"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680943860"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-483"></span><span>
</span><span id="line-484"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942517"><span id="local-6989586621680942518"><span id="local-6989586621680942519"><span id="local-6989586621680942520"><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942517"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942518"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942519"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942520"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-485"></span><span>         </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680942517"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680942518"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680942519"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680942520"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-486"></span><span>  </span><span id="local-6989586621680943887"><span class="annot"><span class="annottext">killRange :: KillRangeT (a, b, c, d)
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRange</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680943888"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943888"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943889"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943889"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943890"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680943890"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680943891"><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621680943891"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c -&gt; d -&gt; (a, b, c, d))
-&gt; a -&gt; b -&gt; c -&gt; d -&gt; (a, b, c, d)
forall t (b :: Bool).
(KILLRANGE t b, IsBase t ~ b, All KillRange (Domains t)) =&gt;
t -&gt; t
</span><a href="Agda.Syntax.Position.html#killRangeN"><span class="hs-identifier hs-var">killRangeN</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943888"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943889"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680943890"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621680943891"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-487"></span><span>
</span><span id="line-488"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942524"><span id="local-6989586621680942525"><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942524"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942525"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#KillRange"><span class="hs-identifier hs-type">KillRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621680942524"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942525"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-489"></span><span>  </span><span id="local-6989586621680943898"><span class="annot"><span class="annottext">killRange :: KillRangeT (Either a b)
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var hs-var hs-var hs-var">killRange</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span>  </span><span id="local-6989586621680943899"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943899"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span>  </span><span class="annot"><span class="annottext">(a -&gt; Either a b) -&gt; a -&gt; Either a b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">KillRangeT a
forall a. KillRange a =&gt; KillRangeT a
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var">killRange</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943899"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-490"></span><span>  </span><span class="annot"><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var">killRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621680943900"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943900"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Either a b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either a b) -&gt; b -&gt; Either a b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">KillRangeT b
forall a. KillRange a =&gt; KillRangeT a
</span><a href="Agda.Syntax.Position.html#killRange"><span class="hs-identifier hs-var">killRange</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680943900"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-491"></span><span>
</span><span id="line-492"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-493"></span><span class="hs-comment">-- Printing</span><span>
</span><span id="line-494"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-495"></span><span>
</span><span id="line-496"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680943903"><span id="local-6989586621680943907"><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#RangeFile"><span class="hs-identifier hs-type">RangeFile</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-497"></span><span>  </span><span id="local-6989586621680943912"><span class="annot"><span class="annottext">pretty :: RangeFile -&gt; Doc
</span><a href="#local-6989586621680943912"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AbsolutePath -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">(AbsolutePath -&gt; Doc)
-&gt; (RangeFile -&gt; AbsolutePath) -&gt; RangeFile -&gt; Doc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">RangeFile -&gt; AbsolutePath
</span><a href="Agda.Syntax.Position.html#rangeFilePath"><span class="hs-identifier hs-var">rangeFilePath</span></a></span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942532"><span id="local-6989586621680943917"><span id="local-6989586621680943921"><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942532"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621680942532"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-500"></span><span>  </span><span id="local-6989586621680943940"><span class="annot"><span class="annottext">pretty :: Position' (Maybe a) -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Pn"><span class="hs-identifier hs-type">Pn</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Strict.Nothing</span></span><span>  </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680943941"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943941"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680943942"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943942"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943941"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-string">&quot;,&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943942"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-501"></span><span>  </span><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Pn"><span class="hs-identifier hs-type">Pn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.Just</span></span><span> </span><span id="local-6989586621680943943"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943943"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680943944"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943944"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680943945"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943945"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-502"></span><span>    </span><span class="annot"><span class="annottext">a -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680943943"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943944"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-string">&quot;,&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943945"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-503"></span><span>
</span><span id="line-504"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680943948"><span id="local-6989586621680943952"><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#PositionWithoutFile"><span class="hs-identifier hs-type">PositionWithoutFile</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-505"></span><span>  </span><span id="local-6989586621680943956"><span class="annot"><span class="annottext">pretty :: PositionWithoutFile -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span id="local-6989586621680943957"><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943957"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943957"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Strict.Nothing</span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680943960"><span id="local-6989586621680943964"><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#IntervalWithoutFile"><span class="hs-identifier hs-type">IntervalWithoutFile</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-508"></span><span>  </span><span id="local-6989586621680943979"><span class="annot"><span class="annottext">pretty :: IntervalWithoutFile -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621680943980"><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943980"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621680943981"><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943981"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621680943982"><span class="hs-identifier hs-var">start</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621680943983"><span class="hs-identifier hs-var">end</span></a></span><span>
</span><span id="line-509"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-510"></span><span>      </span><span id="local-6989586621680943984"><span class="annot"><span class="annottext">sl :: Int32
</span><a href="#local-6989586621680943984"><span class="hs-identifier hs-var hs-var">sl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile -&gt; Int32
forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posLine"><span class="hs-identifier hs-var">posLine</span></a></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943980"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-511"></span><span>      </span><span id="local-6989586621680943985"><span class="annot"><span class="annottext">el :: Int32
</span><a href="#local-6989586621680943985"><span class="hs-identifier hs-var hs-var">el</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile -&gt; Int32
forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posLine"><span class="hs-identifier hs-var">posLine</span></a></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943981"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-512"></span><span>      </span><span id="local-6989586621680943986"><span class="annot"><span class="annottext">sc :: Int32
</span><a href="#local-6989586621680943986"><span class="hs-identifier hs-var hs-var">sc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile -&gt; Int32
forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posCol"><span class="hs-identifier hs-var">posCol</span></a></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943980"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-513"></span><span>      </span><span id="local-6989586621680943987"><span class="annot"><span class="annottext">ec :: Int32
</span><a href="#local-6989586621680943987"><span class="hs-identifier hs-var hs-var">ec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile -&gt; Int32
forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posCol"><span class="hs-identifier hs-var">posCol</span></a></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680943981"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span>      </span><span class="annot"><a href="#local-6989586621680943982"><span class="hs-identifier hs-type">start</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#Doc"><span class="hs-identifier hs-type">Doc</span></a></span><span>
</span><span id="line-516"></span><span>      </span><span id="local-6989586621680943982"><span class="annot"><span class="annottext">start :: Doc
</span><a href="#local-6989586621680943982"><span class="hs-identifier hs-var hs-var">start</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943984"><span class="hs-identifier hs-var">sl</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="Agda.Syntax.Common.Pretty.html#comma"><span class="hs-identifier hs-var">comma</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943986"><span class="hs-identifier hs-var">sc</span></a></span><span>
</span><span id="line-517"></span><span>
</span><span id="line-518"></span><span>      </span><span id="local-6989586621680943983"><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621680943983"><span class="hs-identifier hs-var">end</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#Doc"><span class="hs-identifier hs-type">Doc</span></a></span><span>
</span><span id="line-519"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943984"><span class="hs-identifier hs-var">sl</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943985"><span class="hs-identifier hs-var">el</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943987"><span class="hs-identifier hs-var">ec</span></a></span><span>
</span><span id="line-520"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943985"><span class="hs-identifier hs-var">el</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="Agda.Syntax.Common.Pretty.html#comma"><span class="hs-identifier hs-var">comma</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680943987"><span class="hs-identifier hs-var">ec</span></a></span><span>
</span><span id="line-521"></span><span>
</span><span id="line-522"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942537"><span id="local-6989586621680943992"><span id="local-6989586621680943996"><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942537"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-type">Interval'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621680942537"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-523"></span><span>  </span><span id="local-6989586621680944004"><span class="annot"><span class="annottext">pretty :: Interval' (Maybe a) -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span id="local-6989586621680944005"><span class="annot"><span class="annottext">i :: Interval' (Maybe a)
</span><a href="#local-6989586621680944005"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span id="local-6989586621680944006"><span class="annot"><span class="annottext">Position' (Maybe a)
</span><a href="#local-6989586621680944006"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="annot"><span class="annottext">Position' (Maybe a)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621680944007"><span class="hs-identifier hs-var">file</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">IntervalWithoutFile -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; Interval' (Maybe a) -&gt; IntervalWithoutFile
forall a b. a -&gt; Interval' b -&gt; Interval' a
</span><a href="Agda.Syntax.Position.html#setIntervalFile"><span class="hs-identifier hs-var">setIntervalFile</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Interval' (Maybe a)
</span><a href="#local-6989586621680944005"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-524"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-525"></span><span>      </span><span class="annot"><a href="#local-6989586621680944007"><span class="hs-identifier hs-type">file</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#Doc"><span class="hs-identifier hs-type">Doc</span></a></span><span>
</span><span id="line-526"></span><span>      </span><span id="local-6989586621680944007"><span class="annot"><span class="annottext">file :: Doc
</span><a href="#local-6989586621680944007"><span class="hs-identifier hs-var hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Position' (Maybe a) -&gt; Maybe a
forall a. Position' a -&gt; a
</span><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="annot"><span class="annottext">Position' (Maybe a)
</span><a href="#local-6989586621680944006"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-527"></span><span>               </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Strict.Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc
forall a. Null a =&gt; a
</span><a href="Agda.Utils.Null.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-528"></span><span>               </span><span class="annot"><span class="hs-identifier hs-type">Strict.Just</span></span><span> </span><span id="local-6989586621680944008"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944008"><span class="hs-identifier hs-var">f</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944008"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="Agda.Syntax.Common.Pretty.html#colon"><span class="hs-identifier hs-var">colon</span></a></span><span>
</span><span id="line-529"></span><span>
</span><span id="line-530"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942540"><span id="local-6989586621680944013"><span id="local-6989586621680944017"><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942540"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621680942540"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-531"></span><span>  </span><span id="local-6989586621680944021"><span class="annot"><span class="annottext">pretty :: Range' (Maybe a) -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span id="local-6989586621680944022"><span class="annot"><span class="annottext">Range' (Maybe a)
</span><a href="#local-6989586621680944022"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
-&gt; (Interval' (Maybe a) -&gt; Doc)
-&gt; Maybe (Interval' (Maybe a))
-&gt; Doc
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Doc
forall a. Null a =&gt; a
</span><a href="Agda.Utils.Null.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' (Maybe a) -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Range' (Maybe a) -&gt; Maybe (Interval' (Maybe a))
forall a. Range' a -&gt; Maybe (Interval' a)
</span><a href="Agda.Syntax.Position.html#rangeToIntervalWithFile"><span class="hs-identifier hs-var">rangeToIntervalWithFile</span></a></span><span> </span><span class="annot"><span class="annottext">Range' (Maybe a)
</span><a href="#local-6989586621680944022"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-532"></span><span>
</span><span id="line-533"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680942545"><span id="local-6989586621680944028"><span id="local-6989586621680944032"><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942545"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942545"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.Pretty.html#Pretty"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#PrintRange"><span class="hs-identifier hs-type">PrintRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942545"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-534"></span><span>  </span><span id="local-6989586621680944039"><span class="annot"><span class="annottext">pretty :: PrintRange a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#PrintRange"><span class="hs-identifier hs-type">PrintRange</span></a></span><span> </span><span id="local-6989586621680944040"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944040"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944040"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Doc a -&gt; Doc a -&gt; Doc a
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#parens"><span class="hs-identifier hs-var">parens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><span class="hs-string">&quot;at&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
forall a. Doc a -&gt; Doc a -&gt; Doc a
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Range -&gt; Doc
forall a. Pretty a =&gt; a -&gt; Doc
</span><a href="Agda.Syntax.Common.Pretty.html#pretty"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Range
forall a. HasRange a =&gt; a -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var">getRange</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944040"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-535"></span><span>
</span><span id="line-536"></span><span class="hs-comment">{--------------------------------------------------------------------------
    Functions on positions and ranges
 --------------------------------------------------------------------------}</span><span>
</span><span id="line-539"></span><span>
</span><span id="line-540"></span><span class="annot"><span class="hs-comment">-- | The first position in a file: position 1, line 1, column 1.</span></span><span>
</span><span id="line-541"></span><span id="local-6989586621680942547"><span class="annot"><a href="Agda.Syntax.Position.html#startPos%27"><span class="hs-identifier hs-type">startPos'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680942547"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942547"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-542"></span><span id="startPos%27"><span class="annot"><span class="annottext">startPos' :: forall a. a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#startPos%27"><span class="hs-identifier hs-var hs-var">startPos'</span></a></span></span><span> </span><span id="local-6989586621680944046"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944046"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Pn"><span class="hs-identifier hs-type">Pn</span></a></span><span>
</span><span id="line-543"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">srcFile :: a
</span><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944046"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-544"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">posPos :: Int32
</span><a href="Agda.Syntax.Position.html#posPos"><span class="hs-identifier hs-var">posPos</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">1</span></span><span>
</span><span id="line-545"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">posLine :: Int32
</span><a href="Agda.Syntax.Position.html#posLine"><span class="hs-identifier hs-var">posLine</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">1</span></span><span>
</span><span id="line-546"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">posCol :: Int32
</span><a href="Agda.Syntax.Position.html#posCol"><span class="hs-identifier hs-var">posCol</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">1</span></span><span>
</span><span id="line-547"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-548"></span><span>
</span><span id="line-549"></span><span class="annot"><span class="hs-comment">-- | The first position in a file: position 1, line 1, column 1.</span></span><span>
</span><span id="line-550"></span><span class="annot"><a href="Agda.Syntax.Position.html#startPos"><span class="hs-identifier hs-type">startPos</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#RangeFile"><span class="hs-identifier hs-type">RangeFile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span>
</span><span id="line-551"></span><span id="startPos"><span class="annot"><span class="annottext">startPos :: Maybe RangeFile -&gt; Position
</span><a href="Agda.Syntax.Position.html#startPos"><span class="hs-identifier hs-var hs-var">startPos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcFile -&gt; Position
forall a. a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#startPos%27"><span class="hs-identifier hs-var">startPos'</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcFile -&gt; Position)
-&gt; (Maybe RangeFile -&gt; SrcFile) -&gt; Maybe RangeFile -&gt; Position
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Maybe RangeFile -&gt; SrcFile
forall lazy strict. Strict lazy strict =&gt; lazy -&gt; strict
</span><span class="hs-identifier hs-var">Strict.toStrict</span></span><span>
</span><span id="line-552"></span><span>
</span><span id="line-553"></span><span class="annot"><span class="hs-comment">-- | Ranges between two unknown positions</span></span><span>
</span><span id="line-554"></span><span id="local-6989586621680944048"><span class="annot"><a href="Agda.Syntax.Position.html#noRange"><span class="hs-identifier hs-type">noRange</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680944048"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-555"></span><span id="noRange"><span class="annot"><span class="annottext">noRange :: forall a. Range' a
</span><a href="Agda.Syntax.Position.html#noRange"><span class="hs-identifier hs-var hs-var">noRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range' a
forall a. Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>
</span><span id="line-556"></span><span>
</span><span id="line-557"></span><span class="hs-comment">-- | Advance the position by one character.</span><span>
</span><span id="line-558"></span><span class="hs-comment">--   A newline character (@'\n'@) moves the position to the first</span><span>
</span><span id="line-559"></span><span class="hs-comment">--   character in the next line. Any other character moves the</span><span>
</span><span id="line-560"></span><span class="hs-comment">--   position to the next column.</span><span>
</span><span id="line-561"></span><span id="local-6989586621680942552"><span class="annot"><a href="Agda.Syntax.Position.html#movePos"><span class="hs-identifier hs-type">movePos</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942552"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942552"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-562"></span><span id="movePos"><span class="annot"><span class="annottext">movePos :: forall a. Position' a -&gt; Char -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#movePos"><span class="hs-identifier hs-var hs-var">movePos</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Pn"><span class="hs-identifier hs-type">Pn</span></a></span><span> </span><span id="local-6989586621680944058"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944058"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680944059"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944059"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680944060"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944060"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680944061"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944061"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Int32 -&gt; Int32 -&gt; Int32 -&gt; Position' a
forall a. a -&gt; Int32 -&gt; Int32 -&gt; Int32 -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#Pn"><span class="hs-identifier hs-var">Pn</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944058"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944059"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Int32
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944060"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Int32
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">1</span></span><span>
</span><span id="line-563"></span><span class="annot"><a href="Agda.Syntax.Position.html#movePos"><span class="hs-identifier hs-var">movePos</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Pn"><span class="hs-identifier hs-type">Pn</span></a></span><span> </span><span id="local-6989586621680944063"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944063"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680944064"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944064"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680944065"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944065"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680944066"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944066"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Int32 -&gt; Int32 -&gt; Int32 -&gt; Position' a
forall a. a -&gt; Int32 -&gt; Int32 -&gt; Int32 -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#Pn"><span class="hs-identifier hs-var">Pn</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944063"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944064"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Int32
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944065"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944066"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Int32
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-564"></span><span>
</span><span id="line-565"></span><span class="hs-comment">-- | Advance the position by a string.</span><span>
</span><span id="line-566"></span><span class="hs-comment">--</span><span>
</span><span id="line-567"></span><span class="hs-comment">--   &gt; movePosByString = foldl' movePos</span><span>
</span><span id="line-568"></span><span id="local-6989586621680942554"><span id="local-6989586621680942555"><span class="annot"><a href="Agda.Syntax.Position.html#movePosByString"><span class="hs-identifier hs-type">movePosByString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621680942554"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942555"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680942554"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942555"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-569"></span><span id="movePosByString"><span class="annot"><span class="annottext">movePosByString :: forall (t :: * -&gt; *) a.
Foldable t =&gt;
Position' a -&gt; t Char -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#movePosByString"><span class="hs-identifier hs-var hs-var">movePosByString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Position' a -&gt; Char -&gt; Position' a)
-&gt; Position' a -&gt; t Char -&gt; Position' a
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">Fold.foldl'</span></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Char -&gt; Position' a
forall a. Position' a -&gt; Char -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#movePos"><span class="hs-identifier hs-var">movePos</span></a></span><span>
</span><span id="line-570"></span><span>
</span><span id="line-571"></span><span class="hs-comment">-- | Backup the position by one character.</span><span>
</span><span id="line-572"></span><span class="hs-comment">--</span><span>
</span><span id="line-573"></span><span class="hs-comment">-- Precondition: The character must not be @'\n'@.</span><span>
</span><span id="line-574"></span><span id="local-6989586621680942560"><span class="annot"><a href="Agda.Syntax.Position.html#backupPos"><span class="hs-identifier hs-type">backupPos</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942560"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942560"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-575"></span><span id="backupPos"><span class="annot"><span class="annottext">backupPos :: forall a. Position' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#backupPos"><span class="hs-identifier hs-var hs-var">backupPos</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Pn"><span class="hs-identifier hs-type">Pn</span></a></span><span> </span><span id="local-6989586621680944074"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944074"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680944075"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944075"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680944076"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944076"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680944077"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944077"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Int32 -&gt; Int32 -&gt; Int32 -&gt; Position' a
forall a. a -&gt; Int32 -&gt; Int32 -&gt; Int32 -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#Pn"><span class="hs-identifier hs-var">Pn</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944074"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944075"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Int32
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944076"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621680944077"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Int32
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-576"></span><span>
</span><span id="line-577"></span><span class="annot"><span class="hs-comment">-- | Converts a file name and two positions to a range.</span></span><span>
</span><span id="line-578"></span><span id="local-6989586621680942562"><span class="annot"><a href="Agda.Syntax.Position.html#posToRange%27"><span class="hs-identifier hs-type">posToRange'</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-579"></span><span>  </span><span class="annot"><a href="#local-6989586621680942562"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#PositionWithoutFile"><span class="hs-identifier hs-type">PositionWithoutFile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#PositionWithoutFile"><span class="hs-identifier hs-type">PositionWithoutFile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942562"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-580"></span><span id="posToRange%27"><span class="annot"><span class="annottext">posToRange' :: forall a.
a -&gt; PositionWithoutFile -&gt; PositionWithoutFile -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#posToRange%27"><span class="hs-identifier hs-var hs-var">posToRange'</span></a></span></span><span> </span><span id="local-6989586621680944078"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944078"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680944079"><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680944079"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621680944080"><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680944080"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; IntervalWithoutFile -&gt; Range' a
forall a. a -&gt; IntervalWithoutFile -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#intervalToRange"><span class="hs-identifier hs-var">intervalToRange</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944078"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">()
-&gt; PositionWithoutFile
-&gt; PositionWithoutFile
-&gt; IntervalWithoutFile
forall a.
a -&gt; PositionWithoutFile -&gt; PositionWithoutFile -&gt; Interval' a
</span><a href="Agda.Syntax.Position.html#posToInterval"><span class="hs-identifier hs-var">posToInterval</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680944079"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680944080"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-581"></span><span>
</span><span id="line-582"></span><span class="hs-comment">-- | Converts two positions to a range.</span><span>
</span><span id="line-583"></span><span class="hs-comment">--</span><span>
</span><span id="line-584"></span><span class="hs-comment">-- Precondition: The positions have to point to the same file.</span><span>
</span><span id="line-585"></span><span id="local-6989586621680942564"><span class="annot"><a href="Agda.Syntax.Position.html#posToRange"><span class="hs-identifier hs-type">posToRange</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942564"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942564"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942564"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-586"></span><span id="posToRange"><span class="annot"><span class="annottext">posToRange :: forall a. Position' a -&gt; Position' a -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#posToRange"><span class="hs-identifier hs-var hs-var">posToRange</span></a></span></span><span> </span><span id="local-6989586621680944081"><span class="annot"><span class="annottext">Position' a
</span><a href="#local-6989586621680944081"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621680944082"><span class="annot"><span class="annottext">Position' a
</span><a href="#local-6989586621680944082"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-587"></span><span>  </span><span class="annot"><span class="annottext">a -&gt; PositionWithoutFile -&gt; PositionWithoutFile -&gt; Range' a
forall a.
a -&gt; PositionWithoutFile -&gt; PositionWithoutFile -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#posToRange%27"><span class="hs-identifier hs-var">posToRange'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position' a -&gt; a
forall a. Position' a -&gt; a
</span><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a
</span><a href="#local-6989586621680944081"><span class="hs-identifier hs-var">p1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position' a
</span><a href="#local-6989586621680944081"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position' a
</span><a href="#local-6989586621680944082"><span class="hs-identifier hs-var">p2</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-588"></span><span>
</span><span id="line-589"></span><span class="annot"><span class="hs-comment">-- | Converts a file name and an interval to a range.</span></span><span>
</span><span id="line-590"></span><span id="local-6989586621680942342"><span class="annot"><a href="Agda.Syntax.Position.html#intervalToRange"><span class="hs-identifier hs-type">intervalToRange</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680942342"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#IntervalWithoutFile"><span class="hs-identifier hs-type">IntervalWithoutFile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942342"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-591"></span><span id="intervalToRange"><span class="annot"><span class="annottext">intervalToRange :: forall a. a -&gt; IntervalWithoutFile -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#intervalToRange"><span class="hs-identifier hs-var hs-var">intervalToRange</span></a></span></span><span> </span><span id="local-6989586621680944083"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944083"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680944084"><span class="annot"><span class="annottext">IntervalWithoutFile
</span><a href="#local-6989586621680944084"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Seq IntervalWithoutFile -&gt; Range' a
forall a. a -&gt; Seq IntervalWithoutFile -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-var">Range</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944083"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntervalWithoutFile -&gt; Seq IntervalWithoutFile
forall a. a -&gt; Seq a
</span><span class="hs-identifier hs-var">Seq.singleton</span></span><span> </span><span class="annot"><span class="annottext">IntervalWithoutFile
</span><a href="#local-6989586621680944084"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-592"></span><span>
</span><span id="line-593"></span><span class="annot"><span class="hs-comment">-- | Converts a range to an interval, if possible.</span></span><span>
</span><span id="line-594"></span><span id="local-6989586621680942543"><span class="annot"><a href="Agda.Syntax.Position.html#rangeToIntervalWithFile"><span class="hs-identifier hs-type">rangeToIntervalWithFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942543"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-type">Interval'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942543"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-595"></span><span id="rangeToIntervalWithFile"><span class="annot"><span class="annottext">rangeToIntervalWithFile :: forall a. Range' a -&gt; Maybe (Interval' a)
</span><a href="Agda.Syntax.Position.html#rangeToIntervalWithFile"><span class="hs-identifier hs-var hs-var">rangeToIntervalWithFile</span></a></span></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Interval' a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-596"></span><span class="annot"><a href="Agda.Syntax.Position.html#rangeToIntervalWithFile"><span class="hs-identifier hs-var">rangeToIntervalWithFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span id="local-6989586621680944088"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944088"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680944089"><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680944089"><span class="hs-identifier hs-var">is</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Seq IntervalWithoutFile -&gt; ViewL IntervalWithoutFile
forall a. Seq a -&gt; ViewL a
</span><span class="hs-identifier hs-var">Seq.viewl</span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680944089"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile -&gt; ViewR IntervalWithoutFile
forall a. Seq a -&gt; ViewR a
</span><span class="hs-identifier hs-var">Seq.viewr</span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680944089"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-597"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621680944091"><span class="annot"><span class="annottext">IntervalWithoutFile
</span><a href="#local-6989586621680944091"><span class="hs-identifier hs-var">head</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">Seq.:&lt;</span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">Seq.:&gt;</span></span><span> </span><span id="local-6989586621680944093"><span class="annot"><span class="annottext">IntervalWithoutFile
</span><a href="#local-6989586621680944093"><span class="hs-identifier hs-var">last</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Maybe (Interval' a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Interval' a -&gt; Maybe (Interval' a))
-&gt; Interval' a -&gt; Maybe (Interval' a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; IntervalWithoutFile -&gt; Interval' a
forall a b. a -&gt; Interval' b -&gt; Interval' a
</span><a href="Agda.Syntax.Position.html#setIntervalFile"><span class="hs-identifier hs-var">setIntervalFile</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944088"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(IntervalWithoutFile -&gt; Interval' a)
-&gt; IntervalWithoutFile -&gt; Interval' a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-598"></span><span>                                      </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">iStart :: PositionWithoutFile
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalWithoutFile -&gt; PositionWithoutFile
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalWithoutFile
</span><a href="#local-6989586621680944091"><span class="hs-identifier hs-var">head</span></a></span><span>
</span><span id="line-599"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">iEnd :: PositionWithoutFile
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalWithoutFile -&gt; PositionWithoutFile
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span>   </span><span class="annot"><span class="annottext">IntervalWithoutFile
</span><a href="#local-6989586621680944093"><span class="hs-identifier hs-var">last</span></a></span><span>
</span><span id="line-600"></span><span>                                               </span><span class="hs-special">}</span><span>
</span><span id="line-601"></span><span>  </span><span class="annot"><span class="annottext">(ViewL IntervalWithoutFile, ViewR IntervalWithoutFile)
</span><span class="hs-identifier">_</span></span><span>                              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Interval' a)
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-602"></span><span>
</span><span id="line-603"></span><span class="hs-comment">-- | Converts a range to an interval, if possible. Note that the</span><span>
</span><span id="line-604"></span><span class="hs-comment">-- information about the source file is lost.</span><span>
</span><span id="line-605"></span><span id="local-6989586621680942571"><span class="annot"><a href="Agda.Syntax.Position.html#rangeToInterval"><span class="hs-identifier hs-type">rangeToInterval</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942571"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#IntervalWithoutFile"><span class="hs-identifier hs-type">IntervalWithoutFile</span></a></span></span><span>
</span><span id="line-606"></span><span id="rangeToInterval"><span class="annot"><span class="annottext">rangeToInterval :: forall a. Range' a -&gt; Maybe IntervalWithoutFile
</span><a href="Agda.Syntax.Position.html#rangeToInterval"><span class="hs-identifier hs-var hs-var">rangeToInterval</span></a></span></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe IntervalWithoutFile
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-607"></span><span class="annot"><a href="Agda.Syntax.Position.html#rangeToInterval"><span class="hs-identifier hs-var">rangeToInterval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680944096"><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680944096"><span class="hs-identifier hs-var">is</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Seq IntervalWithoutFile -&gt; ViewL IntervalWithoutFile
forall a. Seq a -&gt; ViewL a
</span><span class="hs-identifier hs-var">Seq.viewl</span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680944096"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile -&gt; ViewR IntervalWithoutFile
forall a. Seq a -&gt; ViewR a
</span><span class="hs-identifier hs-var">Seq.viewr</span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680944096"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-608"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621680944097"><span class="annot"><span class="annottext">IntervalWithoutFile
</span><a href="#local-6989586621680944097"><span class="hs-identifier hs-var">head</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">Seq.:&lt;</span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">Seq.:&gt;</span></span><span> </span><span id="local-6989586621680944098"><span class="annot"><span class="annottext">IntervalWithoutFile
</span><a href="#local-6989586621680944098"><span class="hs-identifier hs-var">last</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IntervalWithoutFile -&gt; Maybe IntervalWithoutFile
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(IntervalWithoutFile -&gt; Maybe IntervalWithoutFile)
-&gt; IntervalWithoutFile -&gt; Maybe IntervalWithoutFile
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-609"></span><span>                                      </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">iStart :: PositionWithoutFile
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalWithoutFile -&gt; PositionWithoutFile
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalWithoutFile
</span><a href="#local-6989586621680944097"><span class="hs-identifier hs-var">head</span></a></span><span>
</span><span id="line-610"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">iEnd :: PositionWithoutFile
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalWithoutFile -&gt; PositionWithoutFile
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span>   </span><span class="annot"><span class="annottext">IntervalWithoutFile
</span><a href="#local-6989586621680944098"><span class="hs-identifier hs-var">last</span></a></span><span>
</span><span id="line-611"></span><span>                                               </span><span class="hs-special">}</span><span>
</span><span id="line-612"></span><span>  </span><span class="annot"><span class="annottext">(ViewL IntervalWithoutFile, ViewR IntervalWithoutFile)
</span><span class="hs-identifier">_</span></span><span>                              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe IntervalWithoutFile
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-613"></span><span>
</span><span id="line-614"></span><span class="annot"><span class="hs-comment">-- | Returns the shortest continuous range containing the given one.</span></span><span>
</span><span id="line-615"></span><span id="local-6989586621680942573"><span class="annot"><a href="Agda.Syntax.Position.html#continuous"><span class="hs-identifier hs-type">continuous</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942573"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942573"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-616"></span><span id="continuous"><span class="annot"><span class="annottext">continuous :: forall a. Range' a -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#continuous"><span class="hs-identifier hs-var hs-var">continuous</span></a></span></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range' a
forall a. Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>
</span><span id="line-617"></span><span class="annot"><a href="Agda.Syntax.Position.html#continuous"><span class="hs-identifier hs-var">continuous</span></a></span><span> </span><span id="local-6989586621680944101"><span class="annot"><span class="annottext">r :: Range' a
</span><a href="#local-6989586621680944101"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span id="local-6989586621680944102"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944102"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Range' a -&gt; Maybe IntervalWithoutFile
forall a. Range' a -&gt; Maybe IntervalWithoutFile
</span><a href="Agda.Syntax.Position.html#rangeToInterval"><span class="hs-identifier hs-var">rangeToInterval</span></a></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680944101"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-618"></span><span>  </span><span class="annot"><span class="annottext">Maybe IntervalWithoutFile
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Range' a
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-619"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621680944103"><span class="annot"><span class="annottext">IntervalWithoutFile
</span><a href="#local-6989586621680944103"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; IntervalWithoutFile -&gt; Range' a
forall a. a -&gt; IntervalWithoutFile -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#intervalToRange"><span class="hs-identifier hs-var">intervalToRange</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944102"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalWithoutFile
</span><a href="#local-6989586621680944103"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-620"></span><span>
</span><span id="line-621"></span><span class="annot"><span class="hs-comment">-- | Removes gaps between intervals on the same line.</span></span><span>
</span><span id="line-622"></span><span id="local-6989586621680942575"><span class="annot"><a href="Agda.Syntax.Position.html#continuousPerLine"><span class="hs-identifier hs-type">continuousPerLine</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621680942575"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942575"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942575"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-623"></span><span id="continuousPerLine"><span class="annot"><span class="annottext">continuousPerLine :: forall a. Ord a =&gt; Range' a -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#continuousPerLine"><span class="hs-identifier hs-var hs-var">continuousPerLine</span></a></span></span><span> </span><span id="local-6989586621680944106"><span class="annot"><span class="annottext">r :: Range' a
</span><a href="#local-6989586621680944106"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><span class="annottext">Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680944106"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-624"></span><span class="annot"><a href="Agda.Syntax.Position.html#continuousPerLine"><span class="hs-identifier hs-var">continuousPerLine</span></a></span><span> </span><span id="local-6989586621680944107"><span class="annot"><span class="annottext">r :: Range' a
</span><a href="#local-6989586621680944107"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span id="local-6989586621680944108"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944108"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-625"></span><span>  </span><span class="annot"><span class="annottext">a -&gt; Seq IntervalWithoutFile -&gt; Range' a
forall a. a -&gt; Seq IntervalWithoutFile -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-var">Range</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944108"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([IntervalWithoutFile]
 -&gt; Maybe (IntervalWithoutFile, [IntervalWithoutFile]))
-&gt; [IntervalWithoutFile] -&gt; Seq IntervalWithoutFile
forall b a. (b -&gt; Maybe (a, b)) -&gt; b -&gt; Seq a
</span><span class="hs-identifier hs-var">Seq.unfoldr</span></span><span> </span><span class="annot"><span class="annottext">[IntervalWithoutFile]
-&gt; Maybe (IntervalWithoutFile, [IntervalWithoutFile])
forall {a}.
Ord a =&gt;
[Interval' a] -&gt; Maybe (Interval' a, [Interval' a])
</span><a href="#local-6989586621680944110"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Range' a -&gt; [IntervalWithoutFile]
forall a. Range' a -&gt; [IntervalWithoutFile]
</span><a href="Agda.Syntax.Position.html#rangeIntervals"><span class="hs-identifier hs-var">rangeIntervals</span></a></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680944107"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-626"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-627"></span><span>  </span><span id="local-6989586621680944110"><span class="annot"><span class="annottext">step :: [Interval' a] -&gt; Maybe (Interval' a, [Interval' a])
</span><a href="#local-6989586621680944110"><span class="hs-identifier hs-var hs-var">step</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Interval' a, [Interval' a])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-628"></span><span>  </span><span class="annot"><a href="#local-6989586621680944110"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621680944116"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944116"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Interval' a, [Interval' a]) -&gt; Maybe (Interval' a, [Interval' a])
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944116"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-629"></span><span>  </span><span class="annot"><a href="#local-6989586621680944110"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680944117"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944117"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680944118"><span class="annot"><span class="annottext">is :: [Interval' a]
</span><a href="#local-6989586621680944118"><span class="hs-identifier hs-var">is</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621680944119"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944119"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680944120"><span class="annot"><span class="annottext">[Interval' a]
</span><a href="#local-6989586621680944120"><span class="hs-identifier hs-var">js</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-630"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680944121"><span class="hs-identifier hs-var">sameLine</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Interval' a] -&gt; Maybe (Interval' a, [Interval' a])
</span><a href="#local-6989586621680944110"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval' a -&gt; Interval' a -&gt; Interval' a
forall a. Ord a =&gt; Interval' a -&gt; Interval' a -&gt; Interval' a
</span><a href="Agda.Syntax.Position.html#fuseIntervals"><span class="hs-identifier hs-var">fuseIntervals</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944117"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944119"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; [Interval' a] -&gt; [Interval' a]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Interval' a]
</span><a href="#local-6989586621680944120"><span class="hs-identifier hs-var">js</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-631"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Interval' a, [Interval' a]) -&gt; Maybe (Interval' a, [Interval' a])
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944117"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Interval' a]
</span><a href="#local-6989586621680944118"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-632"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-633"></span><span>    </span><span id="local-6989586621680944121"><span class="annot"><span class="annottext">sameLine :: Bool
</span><a href="#local-6989586621680944121"><span class="hs-identifier hs-var hs-var">sameLine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Int32
forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posLine"><span class="hs-identifier hs-var">posLine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944117"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Int32
forall a. Position' a -&gt; Int32
</span><a href="Agda.Syntax.Position.html#posLine"><span class="hs-identifier hs-var">posLine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944119"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-634"></span><span>
</span><span id="line-635"></span><span class="annot"><span class="hs-comment">-- | The initial position in the range, if any.</span></span><span>
</span><span id="line-636"></span><span id="local-6989586621680942580"><span class="annot"><a href="Agda.Syntax.Position.html#rStart%27"><span class="hs-identifier hs-type">rStart'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942580"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#PositionWithoutFile"><span class="hs-identifier hs-type">PositionWithoutFile</span></a></span></span><span>
</span><span id="line-637"></span><span id="rStart%27"><span class="annot"><span class="annottext">rStart' :: forall a. Range' a -&gt; Maybe PositionWithoutFile
</span><a href="Agda.Syntax.Position.html#rStart%27"><span class="hs-identifier hs-var hs-var">rStart'</span></a></span></span><span> </span><span id="local-6989586621680944123"><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680944123"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalWithoutFile -&gt; PositionWithoutFile
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">(IntervalWithoutFile -&gt; PositionWithoutFile)
-&gt; Maybe IntervalWithoutFile -&gt; Maybe PositionWithoutFile
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Range' a -&gt; Maybe IntervalWithoutFile
forall a. Range' a -&gt; Maybe IntervalWithoutFile
</span><a href="Agda.Syntax.Position.html#rangeToInterval"><span class="hs-identifier hs-var">rangeToInterval</span></a></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680944123"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-638"></span><span>
</span><span id="line-639"></span><span class="annot"><span class="hs-comment">-- | The initial position in the range, if any.</span></span><span>
</span><span id="line-640"></span><span id="local-6989586621680942585"><span class="annot"><a href="Agda.Syntax.Position.html#rStart"><span class="hs-identifier hs-type">rStart</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942585"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942585"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-641"></span><span id="rStart"><span class="annot"><span class="annottext">rStart :: forall a. Range' a -&gt; Maybe (Position' a)
</span><a href="Agda.Syntax.Position.html#rStart"><span class="hs-identifier hs-var hs-var">rStart</span></a></span></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Position' a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-642"></span><span class="annot"><a href="Agda.Syntax.Position.html#rStart"><span class="hs-identifier hs-var">rStart</span></a></span><span> </span><span id="local-6989586621680944126"><span class="annot"><span class="annottext">r :: Range' a
</span><a href="#local-6989586621680944126"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span id="local-6989586621680944127"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944127"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680944128"><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680944128"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680944128"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621680944127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PositionWithoutFile -&gt; Position' a)
-&gt; Maybe PositionWithoutFile -&gt; Maybe (Position' a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Range' a -&gt; Maybe PositionWithoutFile
forall a. Range' a -&gt; Maybe PositionWithoutFile
</span><a href="Agda.Syntax.Position.html#rStart%27"><span class="hs-identifier hs-var">rStart'</span></a></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680944126"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-643"></span><span>
</span><span id="line-644"></span><span class="annot"><span class="hs-comment">-- | The position after the final position in the range, if any.</span></span><span>
</span><span id="line-645"></span><span id="local-6989586621680944129"><span class="annot"><a href="Agda.Syntax.Position.html#rEnd%27"><span class="hs-identifier hs-type">rEnd'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680944129"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#PositionWithoutFile"><span class="hs-identifier hs-type">PositionWithoutFile</span></a></span></span><span>
</span><span id="line-646"></span><span id="rEnd%27"><span class="annot"><span class="annottext">rEnd' :: forall a. Range' a -&gt; Maybe PositionWithoutFile
</span><a href="Agda.Syntax.Position.html#rEnd%27"><span class="hs-identifier hs-var hs-var">rEnd'</span></a></span></span><span> </span><span id="local-6989586621680944131"><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680944131"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntervalWithoutFile -&gt; PositionWithoutFile
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">(IntervalWithoutFile -&gt; PositionWithoutFile)
-&gt; Maybe IntervalWithoutFile -&gt; Maybe PositionWithoutFile
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Range' a -&gt; Maybe IntervalWithoutFile
forall a. Range' a -&gt; Maybe IntervalWithoutFile
</span><a href="Agda.Syntax.Position.html#rangeToInterval"><span class="hs-identifier hs-var">rangeToInterval</span></a></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680944131"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-647"></span><span>
</span><span id="line-648"></span><span class="annot"><span class="hs-comment">-- | The position after the final position in the range, if any.</span></span><span>
</span><span id="line-649"></span><span id="local-6989586621680944132"><span class="annot"><a href="Agda.Syntax.Position.html#rEnd"><span class="hs-identifier hs-type">rEnd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680944132"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Position%27"><span class="hs-identifier hs-type">Position'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680944132"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-650"></span><span id="rEnd"><span class="annot"><span class="annottext">rEnd :: forall a. Range' a -&gt; Maybe (Position' a)
</span><a href="Agda.Syntax.Position.html#rEnd"><span class="hs-identifier hs-var hs-var">rEnd</span></a></span></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Position' a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-651"></span><span class="annot"><a href="Agda.Syntax.Position.html#rEnd"><span class="hs-identifier hs-var">rEnd</span></a></span><span> </span><span id="local-6989586621680944134"><span class="annot"><span class="annottext">r :: Range' a
</span><a href="#local-6989586621680944134"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span id="local-6989586621680944135"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944135"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680944136"><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680944136"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680944136"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#srcFile"><span class="hs-identifier hs-var">srcFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621680944135"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PositionWithoutFile -&gt; Position' a)
-&gt; Maybe PositionWithoutFile -&gt; Maybe (Position' a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Range' a -&gt; Maybe PositionWithoutFile
forall a. Range' a -&gt; Maybe PositionWithoutFile
</span><a href="Agda.Syntax.Position.html#rEnd%27"><span class="hs-identifier hs-var">rEnd'</span></a></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680944134"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-652"></span><span>
</span><span id="line-653"></span><span class="hs-comment">-- | Finds the least interval which covers the arguments.</span><span>
</span><span id="line-654"></span><span class="hs-comment">--</span><span>
</span><span id="line-655"></span><span class="hs-comment">-- Precondition: The intervals must point to the same file.</span><span>
</span><span id="line-656"></span><span id="local-6989586621680944137"><span class="annot"><a href="Agda.Syntax.Position.html#fuseIntervals"><span class="hs-identifier hs-type">fuseIntervals</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621680944137"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-type">Interval'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680944137"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-type">Interval'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680944137"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval%27"><span class="hs-identifier hs-type">Interval'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680944137"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-657"></span><span id="fuseIntervals"><span class="annot"><span class="annottext">fuseIntervals :: forall a. Ord a =&gt; Interval' a -&gt; Interval' a -&gt; Interval' a
</span><a href="Agda.Syntax.Position.html#fuseIntervals"><span class="hs-identifier hs-var hs-var">fuseIntervals</span></a></span></span><span> </span><span id="local-6989586621680944145"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944145"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621680944146"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944146"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">iStart :: Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position' a
</span><a href="#local-6989586621680944147"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">iEnd :: Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position' a
</span><a href="#local-6989586621680944148"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-658"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-659"></span><span>    </span><span id="local-6989586621680944147"><span class="annot"><span class="annottext">s :: Position' a
</span><a href="#local-6989586621680944147"><span class="hs-identifier hs-var hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; [Position' a] -&gt; Position' a
forall a. a -&gt; [a] -&gt; a
</span><a href="Agda.Utils.List.html#headWithDefault"><span class="hs-identifier hs-var">headWithDefault</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span> </span><span class="annot"><span class="annottext">([Position' a] -&gt; Position' a) -&gt; [Position' a] -&gt; Position' a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Position' a] -&gt; [Position' a]
forall a. Ord a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sort</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944145"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944146"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-660"></span><span>    </span><span id="local-6989586621680944148"><span class="annot"><span class="annottext">e :: Position' a
</span><a href="#local-6989586621680944148"><span class="hs-identifier hs-var hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; [Position' a] -&gt; Position' a
forall a. a -&gt; [a] -&gt; a
</span><a href="Agda.Utils.List.html#lastWithDefault"><span class="hs-identifier hs-var">lastWithDefault</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span> </span><span class="annot"><span class="annottext">([Position' a] -&gt; Position' a) -&gt; [Position' a] -&gt; Position' a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Position' a] -&gt; [Position' a]
forall a. Ord a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sort</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span>   </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944145"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span>   </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944146"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-661"></span><span>
</span><span id="line-662"></span><span class="hs-comment">-- | @fuseRanges r r'@ unions the ranges @r@ and @r'@.</span><span>
</span><span id="line-663"></span><span class="hs-comment">--</span><span>
</span><span id="line-664"></span><span class="hs-comment">--   Meaning it finds the least range @r0@ that covers @r@ and @r'@.</span><span>
</span><span id="line-665"></span><span class="hs-comment">--</span><span>
</span><span id="line-666"></span><span class="hs-comment">-- Precondition: The ranges must point to the same file (or be empty).</span><span>
</span><span id="line-667"></span><span id="local-6989586621680944151"><span class="annot"><a href="Agda.Syntax.Position.html#fuseRanges"><span class="hs-identifier hs-type">fuseRanges</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621680944151"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680944151"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680944151"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range%27"><span class="hs-identifier hs-type">Range'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680944151"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-668"></span><span id="fuseRanges"><span class="annot"><span class="annottext">fuseRanges :: forall a. Ord a =&gt; Range' a -&gt; Range' a -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#fuseRanges"><span class="hs-identifier hs-var hs-var">fuseRanges</span></a></span></span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>       </span><span id="local-6989586621680944154"><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680944154"><span class="hs-identifier hs-var">is2</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680944154"><span class="hs-identifier hs-var">is2</span></a></span><span>
</span><span id="line-669"></span><span class="annot"><a href="Agda.Syntax.Position.html#fuseRanges"><span class="hs-identifier hs-var">fuseRanges</span></a></span><span> </span><span id="local-6989586621680944155"><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680944155"><span class="hs-identifier hs-var">is1</span></a></span></span><span>           </span><span class="annot"><span class="annottext">Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range' a
</span><a href="#local-6989586621680944155"><span class="hs-identifier hs-var">is1</span></a></span><span>
</span><span id="line-670"></span><span class="annot"><a href="Agda.Syntax.Position.html#fuseRanges"><span class="hs-identifier hs-var">fuseRanges</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span id="local-6989586621680944156"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944156"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680944157"><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680944157"><span class="hs-identifier hs-var">is1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680944158"><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680944158"><span class="hs-identifier hs-var">is2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Seq IntervalWithoutFile -&gt; Range' a
forall a. a -&gt; Seq IntervalWithoutFile -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-var">Range</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680944156"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
-&gt; Seq IntervalWithoutFile -&gt; Seq IntervalWithoutFile
forall {a}.
Ord a =&gt;
Seq (Interval' a) -&gt; Seq (Interval' a) -&gt; Seq (Interval' a)
</span><a href="#local-6989586621680944159"><span class="hs-identifier hs-var">fuse</span></a></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680944157"><span class="hs-identifier hs-var">is1</span></a></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><a href="#local-6989586621680944158"><span class="hs-identifier hs-var">is2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-671"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-672"></span><span>  </span><span id="local-6989586621680944159"><span class="annot"><span class="annottext">fuse :: Seq (Interval' a) -&gt; Seq (Interval' a) -&gt; Seq (Interval' a)
</span><a href="#local-6989586621680944159"><span class="hs-identifier hs-var hs-var">fuse</span></a></span></span><span> </span><span id="local-6989586621680944177"><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944177"><span class="hs-identifier hs-var">is1</span></a></span></span><span> </span><span id="local-6989586621680944178"><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944178"><span class="hs-identifier hs-var">is2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Seq (Interval' a) -&gt; ViewL (Interval' a)
forall a. Seq a -&gt; ViewL a
</span><span class="hs-identifier hs-var">Seq.viewl</span></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944177"><span class="hs-identifier hs-var">is1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a) -&gt; ViewR (Interval' a)
forall a. Seq a -&gt; ViewR a
</span><span class="hs-identifier hs-var">Seq.viewr</span></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944177"><span class="hs-identifier hs-var">is1</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-673"></span><span>                       </span><span class="annot"><span class="annottext">Seq (Interval' a) -&gt; ViewL (Interval' a)
forall a. Seq a -&gt; ViewL a
</span><span class="hs-identifier hs-var">Seq.viewl</span></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944178"><span class="hs-identifier hs-var">is2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a) -&gt; ViewR (Interval' a)
forall a. Seq a -&gt; ViewR a
</span><span class="hs-identifier hs-var">Seq.viewr</span></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944178"><span class="hs-identifier hs-var">is2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-674"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ViewL (Interval' a)
</span><span class="hs-identifier hs-var">Seq.EmptyL</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ViewR (Interval' a)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ViewL (Interval' a)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ViewR (Interval' a)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944178"><span class="hs-identifier hs-var">is2</span></a></span><span>
</span><span id="line-675"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ViewL (Interval' a)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ViewR (Interval' a)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ViewL (Interval' a)
</span><span class="hs-identifier hs-var">Seq.EmptyL</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ViewR (Interval' a)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944177"><span class="hs-identifier hs-var">is1</span></a></span><span>
</span><span id="line-676"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621680944180"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944180"><span class="hs-identifier hs-var">s1</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">Seq.:&lt;</span></span><span> </span><span id="local-6989586621680944181"><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944181"><span class="hs-identifier hs-var">r1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680944182"><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944182"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">Seq.:&gt;</span></span><span> </span><span id="local-6989586621680944183"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944183"><span class="hs-identifier hs-var">e1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680944184"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944184"><span class="hs-identifier hs-var">s2</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">Seq.:&lt;</span></span><span> </span><span id="local-6989586621680944185"><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944185"><span class="hs-identifier hs-var">r2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680944186"><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944186"><span class="hs-identifier hs-var">l2</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">Seq.:&gt;</span></span><span> </span><span id="local-6989586621680944187"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944187"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-677"></span><span>        </span><span class="hs-comment">-- Special cases.</span><span>
</span><span id="line-678"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944183"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Position' a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span>  </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944184"><span class="hs-identifier hs-var">s2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944177"><span class="hs-identifier hs-var">is1</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a) -&gt; Seq (Interval' a) -&gt; Seq (Interval' a)
forall a. Seq a -&gt; Seq a -&gt; Seq a
</span><span class="hs-operator hs-var">Seq.&gt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944178"><span class="hs-identifier hs-var">is2</span></a></span><span>
</span><span id="line-679"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944187"><span class="hs-identifier hs-var">e2</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Position' a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span>  </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944180"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944178"><span class="hs-identifier hs-var">is2</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a) -&gt; Seq (Interval' a) -&gt; Seq (Interval' a)
forall a. Seq a -&gt; Seq a -&gt; Seq a
</span><span class="hs-operator hs-var">Seq.&gt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944177"><span class="hs-identifier hs-var">is1</span></a></span><span>
</span><span id="line-680"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944183"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Position' a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944184"><span class="hs-identifier hs-var">s2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
-&gt; Interval' a
-&gt; Interval' a
-&gt; Seq (Interval' a)
-&gt; Seq (Interval' a)
forall {a}.
Seq (Interval' a)
-&gt; Interval' a
-&gt; Interval' a
-&gt; Seq (Interval' a)
-&gt; Seq (Interval' a)
</span><a href="#local-6989586621680944189"><span class="hs-identifier hs-var">mergeTouching</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944182"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944183"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944184"><span class="hs-identifier hs-var">s2</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944185"><span class="hs-identifier hs-var">r2</span></a></span><span>
</span><span id="line-681"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944187"><span class="hs-identifier hs-var">e2</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Position' a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944180"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
-&gt; Interval' a
-&gt; Interval' a
-&gt; Seq (Interval' a)
-&gt; Seq (Interval' a)
forall {a}.
Seq (Interval' a)
-&gt; Interval' a
-&gt; Interval' a
-&gt; Seq (Interval' a)
-&gt; Seq (Interval' a)
</span><a href="#local-6989586621680944189"><span class="hs-identifier hs-var">mergeTouching</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944186"><span class="hs-identifier hs-var">l2</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944187"><span class="hs-identifier hs-var">e2</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944180"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944181"><span class="hs-identifier hs-var">r1</span></a></span><span>
</span><span id="line-682"></span><span>        </span><span class="hs-comment">-- General cases.</span><span>
</span><span id="line-683"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944180"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Position' a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span>  </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944184"><span class="hs-identifier hs-var">s2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Interval' a
-&gt; Seq (Interval' a)
-&gt; Interval' a
-&gt; Seq (Interval' a)
-&gt; Seq (Interval' a)
</span><a href="#local-6989586621680944190"><span class="hs-identifier hs-var">outputLeftPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944180"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944181"><span class="hs-identifier hs-var">r1</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944184"><span class="hs-identifier hs-var">s2</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944178"><span class="hs-identifier hs-var">is2</span></a></span><span>
</span><span id="line-684"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944184"><span class="hs-identifier hs-var">s2</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Position' a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span>  </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944180"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Interval' a
-&gt; Seq (Interval' a)
-&gt; Interval' a
-&gt; Seq (Interval' a)
-&gt; Seq (Interval' a)
</span><a href="#local-6989586621680944190"><span class="hs-identifier hs-var">outputLeftPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944184"><span class="hs-identifier hs-var">s2</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944185"><span class="hs-identifier hs-var">r2</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944180"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944177"><span class="hs-identifier hs-var">is1</span></a></span><span>
</span><span id="line-685"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944180"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Position' a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span>  </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span>   </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944184"><span class="hs-identifier hs-var">s2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Interval' a
-&gt; Seq (Interval' a)
-&gt; Interval' a
-&gt; Seq (Interval' a)
-&gt; Seq (Interval' a)
</span><a href="#local-6989586621680944191"><span class="hs-identifier hs-var">fuseSome</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944180"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944181"><span class="hs-identifier hs-var">r1</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944184"><span class="hs-identifier hs-var">s2</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944185"><span class="hs-identifier hs-var">r2</span></a></span><span>
</span><span id="line-686"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Interval' a
-&gt; Seq (Interval' a)
-&gt; Interval' a
-&gt; Seq (Interval' a)
-&gt; Seq (Interval' a)
</span><a href="#local-6989586621680944191"><span class="hs-identifier hs-var">fuseSome</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944184"><span class="hs-identifier hs-var">s2</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944185"><span class="hs-identifier hs-var">r2</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944180"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944181"><span class="hs-identifier hs-var">r1</span></a></span><span>
</span><span id="line-687"></span><span>    </span><span class="annot"><span class="annottext">(ViewL (Interval' a), ViewR (Interval' a), ViewL (Interval' a),
 ViewR (Interval' a))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-688"></span><span>
</span><span id="line-689"></span><span>  </span><span id="local-6989586621680944189"><span class="annot"><span class="annottext">mergeTouching :: Seq (Interval' a)
-&gt; Interval' a
-&gt; Interval' a
-&gt; Seq (Interval' a)
-&gt; Seq (Interval' a)
</span><a href="#local-6989586621680944189"><span class="hs-identifier hs-var hs-var">mergeTouching</span></a></span></span><span> </span><span id="local-6989586621680944192"><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944192"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680944193"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944193"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680944194"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944194"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621680944195"><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944195"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944192"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a) -&gt; Seq (Interval' a) -&gt; Seq (Interval' a)
forall a. Seq a -&gt; Seq a -&gt; Seq a
</span><span class="hs-operator hs-var">Seq.&gt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944196"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Seq (Interval' a) -&gt; Seq (Interval' a)
forall a. a -&gt; Seq a -&gt; Seq a
</span><span class="hs-operator hs-var">Seq.&lt;|</span></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944195"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-690"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-691"></span><span>    </span><span id="local-6989586621680944196"><span class="annot"><span class="annottext">i :: Interval' a
</span><a href="#local-6989586621680944196"><span class="hs-identifier hs-var hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">iStart :: Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944193"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">iEnd :: Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944194"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-692"></span><span>
</span><span id="line-693"></span><span>  </span><span class="hs-comment">-- The following two functions could use binary search instead of</span><span>
</span><span id="line-694"></span><span>  </span><span class="hs-comment">-- linear.</span><span>
</span><span id="line-695"></span><span>
</span><span id="line-696"></span><span>  </span><span id="local-6989586621680944190"><span class="annot"><span class="annottext">outputLeftPrefix :: Interval' a
-&gt; Seq (Interval' a)
-&gt; Interval' a
-&gt; Seq (Interval' a)
-&gt; Seq (Interval' a)
</span><a href="#local-6989586621680944190"><span class="hs-identifier hs-var hs-var">outputLeftPrefix</span></a></span></span><span> </span><span id="local-6989586621680944198"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944198"><span class="hs-identifier hs-var">s1</span></a></span></span><span> </span><span id="local-6989586621680944199"><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944199"><span class="hs-identifier hs-var">r1</span></a></span></span><span> </span><span id="local-6989586621680944200"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944200"><span class="hs-identifier hs-var">s2</span></a></span></span><span> </span><span id="local-6989586621680944201"><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944201"><span class="hs-identifier hs-var">is2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944198"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Seq (Interval' a) -&gt; Seq (Interval' a)
forall a. a -&gt; Seq a -&gt; Seq a
</span><span class="hs-operator hs-var">Seq.&lt;|</span></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944202"><span class="hs-identifier hs-var">r1'</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a) -&gt; Seq (Interval' a) -&gt; Seq (Interval' a)
forall a. Seq a -&gt; Seq a -&gt; Seq a
</span><span class="hs-operator hs-var">Seq.&gt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a) -&gt; Seq (Interval' a) -&gt; Seq (Interval' a)
</span><a href="#local-6989586621680944159"><span class="hs-identifier hs-var">fuse</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944203"><span class="hs-identifier hs-var">r1''</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944201"><span class="hs-identifier hs-var">is2</span></a></span><span>
</span><span id="line-697"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-698"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621680944202"><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944202"><span class="hs-identifier hs-var">r1'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680944203"><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944203"><span class="hs-identifier hs-var">r1''</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Interval' a -&gt; Bool)
-&gt; Seq (Interval' a) -&gt; (Seq (Interval' a), Seq (Interval' a))
forall a. (a -&gt; Bool) -&gt; Seq a -&gt; (Seq a, Seq a)
</span><span class="hs-identifier hs-var">Seq.spanl</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680944205"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944205"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944205"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Position' a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iStart"><span class="hs-identifier hs-var">iStart</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944200"><span class="hs-identifier hs-var">s2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944199"><span class="hs-identifier hs-var">r1</span></a></span><span>
</span><span id="line-699"></span><span>
</span><span id="line-700"></span><span>  </span><span id="local-6989586621680944191"><span class="annot"><span class="annottext">fuseSome :: Interval' a
-&gt; Seq (Interval' a)
-&gt; Interval' a
-&gt; Seq (Interval' a)
-&gt; Seq (Interval' a)
</span><a href="#local-6989586621680944191"><span class="hs-identifier hs-var hs-var">fuseSome</span></a></span></span><span> </span><span id="local-6989586621680944206"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944206"><span class="hs-identifier hs-var">s1</span></a></span></span><span> </span><span id="local-6989586621680944207"><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944207"><span class="hs-identifier hs-var">r1</span></a></span></span><span> </span><span id="local-6989586621680944208"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944208"><span class="hs-identifier hs-var">s2</span></a></span></span><span> </span><span id="local-6989586621680944209"><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944209"><span class="hs-identifier hs-var">r2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a) -&gt; Seq (Interval' a) -&gt; Seq (Interval' a)
</span><a href="#local-6989586621680944159"><span class="hs-identifier hs-var">fuse</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944210"><span class="hs-identifier hs-var">r1'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Interval' a -&gt; Interval' a -&gt; Interval' a
forall a. Ord a =&gt; Interval' a -&gt; Interval' a -&gt; Interval' a
</span><a href="Agda.Syntax.Position.html#fuseIntervals"><span class="hs-identifier hs-var">fuseIntervals</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944206"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944208"><span class="hs-identifier hs-var">s2</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Seq (Interval' a) -&gt; Seq (Interval' a)
forall a. a -&gt; Seq a -&gt; Seq a
</span><span class="hs-operator hs-var">Seq.&lt;|</span></span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944209"><span class="hs-identifier hs-var">r2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-701"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-702"></span><span>    </span><span id="local-6989586621680944210"><span class="annot"><span class="annottext">r1' :: Seq (Interval' a)
</span><a href="#local-6989586621680944210"><span class="hs-identifier hs-var hs-var">r1'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Interval' a -&gt; Bool) -&gt; Seq (Interval' a) -&gt; Seq (Interval' a)
forall a. (a -&gt; Bool) -&gt; Seq a -&gt; Seq a
</span><span class="hs-identifier hs-var">Seq.dropWhileL</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680944212"><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944212"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944212"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Position' a -&gt; Position' a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Interval' a -&gt; Position' a
forall a. Interval' a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#iEnd"><span class="hs-identifier hs-var">iEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Interval' a
</span><a href="#local-6989586621680944208"><span class="hs-identifier hs-var">s2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Seq (Interval' a)
</span><a href="#local-6989586621680944207"><span class="hs-identifier hs-var">r1</span></a></span><span>
</span><span id="line-703"></span><span>
</span><span id="line-704"></span><span class="hs-comment">-- | Precondition: The ranges must point to the same file (or be</span><span>
</span><span id="line-705"></span><span class="hs-comment">-- empty).</span><span>
</span><span id="line-706"></span><span id="local-6989586621680942363"><span id="local-6989586621680942364"><span class="annot"><a href="Agda.Syntax.Position.html#fuseRange"><span class="hs-identifier hs-type">fuseRange</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942363"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942364"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680942363"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680942364"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span></span></span><span>
</span><span id="line-707"></span><span id="fuseRange"><span class="annot"><span class="annottext">fuseRange :: forall u t. (HasRange u, HasRange t) =&gt; u -&gt; t -&gt; Range
</span><a href="Agda.Syntax.Position.html#fuseRange"><span class="hs-identifier hs-var hs-var">fuseRange</span></a></span></span><span> </span><span id="local-6989586621680944220"><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621680944220"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621680944221"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680944221"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range -&gt; Range -&gt; Range
forall a. Ord a =&gt; Range' a -&gt; Range' a -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#fuseRanges"><span class="hs-identifier hs-var">fuseRanges</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">u -&gt; Range
forall a. HasRange a =&gt; a -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var">getRange</span></a></span><span> </span><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621680944220"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Range
forall a. HasRange a =&gt; a -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var">getRange</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680944221"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-708"></span><span>
</span><span id="line-709"></span><span class="hs-comment">-- | @beginningOf r@ is an empty range (a single, empty interval)</span><span>
</span><span id="line-710"></span><span class="hs-comment">-- positioned at the beginning of @r@. If @r@ does not have a</span><span>
</span><span id="line-711"></span><span class="hs-comment">-- beginning, then 'noRange' is returned.</span><span>
</span><span id="line-712"></span><span class="annot"><a href="Agda.Syntax.Position.html#beginningOf"><span class="hs-identifier hs-type">beginningOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span>
</span><span id="line-713"></span><span id="beginningOf"><span class="annot"><span class="annottext">beginningOf :: Range -&gt; Range
</span><a href="Agda.Syntax.Position.html#beginningOf"><span class="hs-identifier hs-var hs-var">beginningOf</span></a></span></span><span> </span><span class="annot"><span class="annottext">Range
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range
forall a. Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>
</span><span id="line-714"></span><span class="annot"><a href="Agda.Syntax.Position.html#beginningOf"><span class="hs-identifier hs-var">beginningOf</span></a></span><span> </span><span id="local-6989586621680944222"><span class="annot"><span class="annottext">r :: Range
</span><a href="#local-6989586621680944222"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span id="local-6989586621680944223"><span class="annot"><span class="annottext">SrcFile
</span><a href="#local-6989586621680944223"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Range -&gt; Maybe PositionWithoutFile
forall a. Range' a -&gt; Maybe PositionWithoutFile
</span><a href="Agda.Syntax.Position.html#rStart%27"><span class="hs-identifier hs-var">rStart'</span></a></span><span> </span><span class="annot"><span class="annottext">Range
</span><a href="#local-6989586621680944222"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-715"></span><span>  </span><span class="annot"><span class="annottext">Maybe PositionWithoutFile
</span><span class="hs-identifier hs-var">Nothing</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Range
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-716"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621680944224"><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680944224"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcFile -&gt; PositionWithoutFile -&gt; PositionWithoutFile -&gt; Range
forall a.
a -&gt; PositionWithoutFile -&gt; PositionWithoutFile -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#posToRange%27"><span class="hs-identifier hs-var">posToRange'</span></a></span><span> </span><span class="annot"><span class="annottext">SrcFile
</span><a href="#local-6989586621680944223"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680944224"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680944224"><span class="hs-identifier hs-var">pos</span></a></span><span>
</span><span id="line-717"></span><span>
</span><span id="line-718"></span><span class="hs-comment">-- | @beginningOfFile r@ is an empty range (a single, empty interval)</span><span>
</span><span id="line-719"></span><span class="hs-comment">-- at the beginning of @r@'s starting position's file. If there is no</span><span>
</span><span id="line-720"></span><span class="hs-comment">-- such position, then an empty range is returned.</span><span>
</span><span id="line-721"></span><span class="annot"><a href="Agda.Syntax.Position.html#beginningOfFile"><span class="hs-identifier hs-type">beginningOfFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span>
</span><span id="line-722"></span><span id="beginningOfFile"><span class="annot"><span class="annottext">beginningOfFile :: Range -&gt; Range
</span><a href="Agda.Syntax.Position.html#beginningOfFile"><span class="hs-identifier hs-var hs-var">beginningOfFile</span></a></span></span><span> </span><span class="annot"><span class="annottext">Range
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range
forall a. Range' a
</span><a href="Agda.Syntax.Position.html#NoRange"><span class="hs-identifier hs-var">NoRange</span></a></span><span>
</span><span id="line-723"></span><span class="annot"><a href="Agda.Syntax.Position.html#beginningOfFile"><span class="hs-identifier hs-var">beginningOfFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span id="local-6989586621680944225"><span class="annot"><span class="annottext">SrcFile
</span><a href="#local-6989586621680944225"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Seq IntervalWithoutFile
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcFile -&gt; PositionWithoutFile -&gt; PositionWithoutFile -&gt; Range
forall a.
a -&gt; PositionWithoutFile -&gt; PositionWithoutFile -&gt; Range' a
</span><a href="Agda.Syntax.Position.html#posToRange%27"><span class="hs-identifier hs-var">posToRange'</span></a></span><span> </span><span class="annot"><span class="annottext">SrcFile
</span><a href="#local-6989586621680944225"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680944226"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">PositionWithoutFile
</span><a href="#local-6989586621680944226"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-724"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680944226"><span class="annot"><span class="annottext">p :: PositionWithoutFile
</span><a href="#local-6989586621680944226"><span class="hs-identifier hs-var hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PositionWithoutFile
forall a. a -&gt; Position' a
</span><a href="Agda.Syntax.Position.html#startPos%27"><span class="hs-identifier hs-var">startPos'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-725"></span><span>
</span><span id="line-726"></span><span class="annot"><span class="hs-comment">-- | @x \`withRangeOf\` y@ sets the range of @x@ to the range of @y@.</span></span><span>
</span><span id="line-727"></span><span id="local-6989586621680942602"><span id="local-6989586621680942603"><span class="annot"><a href="Agda.Syntax.Position.html#withRangeOf"><span class="hs-identifier hs-type">withRangeOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#SetRange"><span class="hs-identifier hs-type">SetRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942602"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942603"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680942602"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680942603"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680942602"><span class="hs-identifier hs-type">t</span></a></span></span></span><span>
</span><span id="line-728"></span><span id="local-6989586621680944231"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680944231"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="withRangeOf"><span class="annot"><span class="annottext">withRangeOf :: forall t u. (SetRange t, HasRange u) =&gt; t -&gt; u -&gt; t
</span><a href="Agda.Syntax.Position.html#withRangeOf"><span class="hs-operator hs-var hs-var">`withRangeOf`</span></a></span></span><span> </span><span id="local-6989586621680944232"><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621680944232"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range -&gt; t -&gt; t
forall a. SetRange a =&gt; Range -&gt; a -&gt; a
</span><a href="Agda.Syntax.Position.html#setRange"><span class="hs-identifier hs-var">setRange</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">u -&gt; Range
forall a. HasRange a =&gt; a -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var">getRange</span></a></span><span> </span><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621680944232"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680944231"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-729"></span><span>
</span><span id="line-730"></span><span class="hs-comment">-- | Interleaves two streams of ranged elements</span><span>
</span><span id="line-731"></span><span class="hs-comment">--</span><span>
</span><span id="line-732"></span><span class="hs-comment">--   It will report the conflicts as a list of conflicting pairs.</span><span>
</span><span id="line-733"></span><span class="hs-comment">--   In case of conflict, the element with the earliest start position</span><span>
</span><span id="line-734"></span><span class="hs-comment">--   is placed first. In case of a tie, the element with the earliest</span><span>
</span><span id="line-735"></span><span class="hs-comment">--   ending position is placed first. If both tie, the element from the</span><span>
</span><span id="line-736"></span><span class="hs-comment">--   first list is placed first.</span><span>
</span><span id="line-737"></span><span id="local-6989586621680942606"><span class="annot"><a href="Agda.Syntax.Position.html#interleaveRanges"><span class="hs-identifier hs-type">interleaveRanges</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Position.html#HasRange"><span class="hs-identifier hs-type">HasRange</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680942606"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680942606"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680942606"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680942606"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680942606"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680942606"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span></span><span>
</span><span id="line-738"></span><span id="interleaveRanges"><span class="annot"><span class="annottext">interleaveRanges :: forall a. HasRange a =&gt; [a] -&gt; [a] -&gt; ([a], [(a, a)])
</span><a href="Agda.Syntax.Position.html#interleaveRanges"><span class="hs-identifier hs-var hs-var">interleaveRanges</span></a></span></span><span> </span><span id="local-6989586621680944241"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621680944241"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span id="local-6989586621680944242"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621680944242"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Writer [(a, a)] [a] -&gt; ([a], [(a, a)])
forall w a. Writer w a -&gt; (a, w)
</span><span class="hs-identifier hs-var">runWriter</span></span><span class="annot"><span class="annottext">(Writer [(a, a)] [a] -&gt; ([a], [(a, a)]))
-&gt; Writer [(a, a)] [a] -&gt; ([a], [(a, a)])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a] -&gt; Writer [(a, a)] [a]
forall {m :: * -&gt; *} {b}.
(HasRange b, MonadWriter [(b, b)] m) =&gt;
[b] -&gt; [b] -&gt; m [b]
</span><a href="#local-6989586621680944243"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621680944241"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621680944242"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-739"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-740"></span><span>    </span><span id="local-6989586621680944243"><span class="annot"><span class="annottext">go :: [b] -&gt; [b] -&gt; m [b]
</span><a href="#local-6989586621680944243"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>         </span><span id="local-6989586621680944281"><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621680944281"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[b] -&gt; m [b]
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621680944281"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-741"></span><span>    </span><span class="annot"><a href="#local-6989586621680944243"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621680944282"><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621680944282"><span class="hs-keyword hs-var">as</span></a></span></span><span>         </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[b] -&gt; m [b]
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621680944282"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-742"></span><span>    </span><span class="annot"><a href="#local-6989586621680944243"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621680944283"><span class="annot"><span class="annottext">as :: [b]
</span><a href="#local-6989586621680944283"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621680944284"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680944284"><span class="hs-identifier hs-var">a</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680944285"><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621680944285"><span class="hs-identifier hs-var">as'</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680944286"><span class="annot"><span class="annottext">bs :: [b]
</span><a href="#local-6989586621680944286"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621680944287"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680944287"><span class="hs-identifier hs-var">b</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680944288"><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621680944288"><span class="hs-identifier hs-var">bs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-743"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680944289"><span class="annot"><span class="annottext">ra :: Range
</span><a href="#local-6989586621680944289"><span class="hs-identifier hs-var hs-var">ra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Range
forall a. HasRange a =&gt; a -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var">getRange</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680944284"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-744"></span><span>          </span><span id="local-6989586621680944290"><span class="annot"><span class="annottext">rb :: Range
</span><a href="#local-6989586621680944290"><span class="hs-identifier hs-var hs-var">rb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Range
forall a. HasRange a =&gt; a -&gt; Range
</span><a href="Agda.Syntax.Position.html#getRange"><span class="hs-identifier hs-var">getRange</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680944287"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-745"></span><span>
</span><span id="line-746"></span><span>          </span><span id="local-6989586621680944291"><span class="annot"><span class="annottext">ra0 :: Maybe Position
</span><a href="#local-6989586621680944291"><span class="hs-identifier hs-var hs-var">ra0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range -&gt; Maybe Position
forall a. Range' a -&gt; Maybe (Position' a)
</span><a href="Agda.Syntax.Position.html#rStart"><span class="hs-identifier hs-var">rStart</span></a></span><span> </span><span class="annot"><span class="annottext">Range
</span><a href="#local-6989586621680944289"><span class="hs-identifier hs-var">ra</span></a></span><span>
</span><span id="line-747"></span><span>          </span><span id="local-6989586621680944292"><span class="annot"><span class="annottext">rb0 :: Maybe Position
</span><a href="#local-6989586621680944292"><span class="hs-identifier hs-var hs-var">rb0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range -&gt; Maybe Position
forall a. Range' a -&gt; Maybe (Position' a)
</span><a href="Agda.Syntax.Position.html#rStart"><span class="hs-identifier hs-var">rStart</span></a></span><span> </span><span class="annot"><span class="annottext">Range
</span><a href="#local-6989586621680944290"><span class="hs-identifier hs-var">rb</span></a></span><span>
</span><span id="line-748"></span><span>
</span><span id="line-749"></span><span>          </span><span id="local-6989586621680944293"><span class="annot"><span class="annottext">ra1 :: Maybe Position
</span><a href="#local-6989586621680944293"><span class="hs-identifier hs-var hs-var">ra1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range -&gt; Maybe Position
forall a. Range' a -&gt; Maybe (Position' a)
</span><a href="Agda.Syntax.Position.html#rEnd"><span class="hs-identifier hs-var">rEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Range
</span><a href="#local-6989586621680944289"><span class="hs-identifier hs-var">ra</span></a></span><span>
</span><span id="line-750"></span><span>          </span><span id="local-6989586621680944294"><span class="annot"><span class="annottext">rb1 :: Maybe Position
</span><a href="#local-6989586621680944294"><span class="hs-identifier hs-var hs-var">rb1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range -&gt; Maybe Position
forall a. Range' a -&gt; Maybe (Position' a)
</span><a href="Agda.Syntax.Position.html#rEnd"><span class="hs-identifier hs-var">rEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Range
</span><a href="#local-6989586621680944290"><span class="hs-identifier hs-var">rb</span></a></span><span>
</span><span id="line-751"></span><span>      </span><span class="hs-keyword">in</span><span>
</span><span id="line-752"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Maybe Position
</span><a href="#local-6989586621680944293"><span class="hs-identifier hs-var">ra1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Position -&gt; Maybe Position -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Maybe Position
</span><a href="#local-6989586621680944292"><span class="hs-identifier hs-var">rb0</span></a></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-753"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680944284"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">b -&gt; [b] -&gt; [b]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([b] -&gt; [b]) -&gt; m [b] -&gt; m [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[b] -&gt; [b] -&gt; m [b]
</span><a href="#local-6989586621680944243"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621680944285"><span class="hs-identifier hs-var">as'</span></a></span><span> </span><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621680944286"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-754"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Maybe Position
</span><a href="#local-6989586621680944294"><span class="hs-identifier hs-var">rb1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Position -&gt; Maybe Position -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Maybe Position
</span><a href="#local-6989586621680944291"><span class="hs-identifier hs-var">ra0</span></a></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-755"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680944287"><span class="hs-identifier hs-var">b</span></a></span><span class="annot"><span class="annottext">b -&gt; [b] -&gt; [b]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([b] -&gt; [b]) -&gt; m [b] -&gt; m [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[b] -&gt; [b] -&gt; m [b]
</span><a href="#local-6989586621680944243"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621680944283"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621680944288"><span class="hs-identifier hs-var">bs'</span></a></span><span>
</span><span id="line-756"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-757"></span><span>        </span><span class="annot"><span class="annottext">[(b, b)] -&gt; m ()
forall w (m :: * -&gt; *). MonadWriter w m =&gt; w -&gt; m ()
</span><span class="hs-identifier hs-var">tell</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680944284"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680944287"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-758"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Maybe Position
</span><a href="#local-6989586621680944291"><span class="hs-identifier hs-var">ra0</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Position -&gt; Maybe Position -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Position
</span><a href="#local-6989586621680944292"><span class="hs-identifier hs-var">rb0</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Position
</span><a href="#local-6989586621680944291"><span class="hs-identifier hs-var">ra0</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Position -&gt; Maybe Position -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Maybe Position
</span><a href="#local-6989586621680944292"><span class="hs-identifier hs-var">rb0</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Position
</span><a href="#local-6989586621680944293"><span class="hs-identifier hs-var">ra1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Position -&gt; Maybe Position -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Maybe Position
</span><a href="#local-6989586621680944294"><span class="hs-identifier hs-var">rb1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-759"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680944284"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">b -&gt; [b] -&gt; [b]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([b] -&gt; [b]) -&gt; m [b] -&gt; m [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[b] -&gt; [b] -&gt; m [b]
</span><a href="#local-6989586621680944243"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621680944285"><span class="hs-identifier hs-var">as'</span></a></span><span> </span><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621680944286"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-760"></span><span>        </span><span class="hs-keyword">else</span><span>
</span><span id="line-761"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680944287"><span class="hs-identifier hs-var">b</span></a></span><span class="annot"><span class="annottext">b -&gt; [b] -&gt; [b]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([b] -&gt; [b]) -&gt; m [b] -&gt; m [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[b] -&gt; [b] -&gt; m [b]
</span><a href="#local-6989586621680944243"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621680944283"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621680944288"><span class="hs-identifier hs-var">bs'</span></a></span><span>
</span><span id="line-762"></span></pre></body></html>